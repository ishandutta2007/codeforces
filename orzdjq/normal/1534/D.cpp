/*
v:r:1BRBI.7J.  jIJ27IUYUuri:7:::::::v7::ri..::irRBb71P2qKbu7i.::... :vIKr:i:rRS:::XXJur:iLIsS7LLrr1r
r .:JBRBL.:r.  ...:iiuIIr:.r:..... .iir:.:.  .:2I7i.2g7Pgd2IJ:..     rYr .:..i:...i5vsi:i2j11r7Yiir:
i.:rSRgZXi7irir:::r7ivZ5ii5s.r7iii::i:Yv::i.......i7bSJRdqDbX7ii:....:qr..:ir:irr::s2j7r1q15b77uv7r:
:..sgi7Xs:irirr71SP1J1U::i7rv2rr7s7Y::i7i:r:.:...iii.:DB.UZXs7iii:..  .iir::irr7iiij7JuY1qYssrr7 77:
. .LB:.qRi:iri7vMgg2XEXiBUY7LMqr517Yi:r7r:i:..:.::ii:YBg.PDSUr::i::.. .ir7Yriii:iirvi:I1KqsYjLu7rrvr
d1irRYiBBYsKSu7SSXDUUdZv5Bg17qQRPPg5ri7vi:.:::.:.  :rIq1.LU5L:::::::..:r:rrrir:::i:7:.:u55LJj1Y777rr
QDX:i77RBDuuEs7L:.rr1PgsLdBQZX5::rL:.rj7ri:::..::.iri:i:r7vv:...::::..ii::i::::.:::rv: .vU2YuY7irr7i
. .:....v1i:rrrr7vr:i::i.7Qj.rr    .:.:v7::irYPQBBQQZDdKPgEd5u77:.::..ir::.vKUUUr:..:: :j2uI1uvriii:
:.:.:::.::::7rvrr7Li... . ...... .:...:::.1gBBBQBQQgggMMBBBQQRQgPY:  .ir7vJSPKdX1vr:rirLJ7Lvv77rrrr:
. ........ .       . ....      ... .    igBQgMgMggDDDQQBMgRQggZPbEP7 .7s7rr7777i:riiiiiYvv7v7vvYvYLr
U7jsjLYvYvLvvvv77777v77r7r7r7r7rriri:.rgBQgDRMQRQggEDPSJv75ZRggqqPZZXJsr:.:::....::..::7JYJYsLLvLvLr
5UIX5SIS5XIS55I5ISIX5X5SISIXIS2S22jv2BBBMMQQggPX1Jv7r::.:i71qgZZbPPgdKKSi.:i.:.irirsYsvY7rir::::7Yvr
vrv77777v7777777777r7r7r7r7rrrrrr:.vBBQQBQg5sii::.:...:...::rjZDDEbPMbKdq::rL1X151uii:::riiir7vvvvsr
i:iiiririiiiiiiiiiiiiiii:i:i:i:::.jBQQQBdsi:...:::::::::::::.:7dgMdPdgPXEMYYs1vL7LLrr77vvsYsYsvYvvvr
:.:::::::::::::.:.:.:.:.:.:...:. rBQBBgv:.....:::::::::::.:::::7gRMPPdDKKgE:::::::irjLJssvYvLvvvLvYr
:.::::::::::::::::::::::::::.:. .BBBBPi::ri:.:::::::.........:::vRRMPEZbXPB7 :::::.::::r7vLsvsvYvYLr
i.::::::::::::::::::::::::::::. QBQBbr2ZBQBgKvr:i:i:rvuU5SIs7:::iXBggZZbPXgM:.::i:i:::::ii7YjsjLsYjr
:.:::::::::::::::::::::::::::: IBBQQv1Jr:i7uU27riri7ubZgddqPX5ri:vMBMDggPbKBv:iir7riii::......71uU1v
:.:::::::::::::::::::::::::::..QBQBPr::777vi7vvi:i7L1vrirr:::ivriiPBQDDRDEEg1.i::::::::::.:...:::::.
i.:::::::::::::::::::::::::::..BQBBL:1BBQjvSLuvi.:r1UuEBIJPPvi:iiivBQgEMDgDMi .........::i:i::......
:.:.:::::::::::::::::::::::::.:BBQQ:LPZDEiijYr7:.:rr7PBQv.rEM2vrr:ibBRQZRgMMs:rr7r7r7rrr7rrr7r7rrr2:
i:rrriiriiiiirrriririririririi7BBDviiiirrsYriii:.::::r7v7YriiL7rirrPBBQRRRgQ1i77r7r7r777777v7v7rYQ7
rivvvrr:iiriiri:iiiiiiriiirir:..  :rv::::::::i:.:::...:irrir:.::r:.:iSBBBRBQI:r7v7v7v77rrirr7riuBBi
rij2Js7r:irL77i:::::::::::::...:7viri::i::.:i:...:::...:...r7..:7s..  .1BQbBPrr7r7r77vLJvrirri:UBBBR
:.r7r:iYuiirrri.:::.:.:.:::...iv7..:rrvi:.iri::::.:ii::.:.:vu...rBU.... 7BPDj.::ii::....iiiii:i. .7I
i..::::7v777r7ii:::::::i:i...rv:..71uZU::iivMg5KQQ77ii::::i1s...rBP...:. KQE1rir:r::....    .:ri
i.::::rLY7Ysuvv77rr77rrJ5Iv..:vr:.JK75jiiii:1u25IPUrrii:irYu:.ii5gv...:. rRDPIKZv7r::ii...:.  .vr.:
r:::iLYjLJvjsJv7r777rvr7SSjvi:vsi:.5L117ii::.......::rirv1j:.ir1Pi .:L7:.:DMPIPD:::rri.....r7: .:::.
r:iirrriiiriiirir7Yvv77ruUUjJrrYv:..r227irvUZEPPqJrirrrvur..:vuv:.:iY1YLYJBgggBP .i::.:....:v1Ji....
rirs177Lr7rrrvrirr:77r:7SbPPJs:77i:..7XUvXEMZEPEEgDQQP1s:..irjr.:7J2u1uY:2BRQBBM..::::........:svi..
UYUuUvrj1Lvv7rriL7ri7L7LDEZgX7u7vrri:.rX5rr7Yj2u1Lvr7J7..:irv7irYu1u2J77PBBBBBBQ:::ir...::::i..:i::.
JsujLvrsJjvvrrr7rr7LvsvYvuIZqL2UUUL7ri.:LsvvvsJUus77r:.:i7JUYLLuLvvsvvsvLMKZg2vi.::iriirrL7vvi.  .:.
2u5Jsv7rs12vv7Y7LJu1JYYriir1jYq2U1uLri:..:7ri:::::ii..ir7vsvYLussLvi7jK:i:  .....:rrvsI1uJYLsvriii:
ggD5sY7L7vssr7jYjUL7iiii:i:i:Y5S1I1J7rii:..:ri:i::..:irr7L7vvLvjJsr1Qqui::..   ..:r2PKsYvJIqSPZSjSS1
:.:irLL77rv777s77rv77ri:::r1vrJ5PII1Jv7ri:..:1X7:.::ir77vvLYJYJvJ17QBSJrvr:.......  :7Ss2PIs7LPjU1IL
i:rv77vv7777vv7rrvv7i:.:::2Zs7rrLPIuYs7vrr::.iL.:iirr77vvYYJjjJuY77BX7ubL::i::.:...:..7BZPvr7I2jJUui
i.irrr7vsvL777r::::::.:ii:7Ijr7i.YqjLvY77rr:::::iirrrrv7vvsJU2u71PBRjLDX::i::::..:i::..Kq7iisu2U51vr
:.irrri7sjLLs7::rYv7rr::ii7Pj7rrrrr2vv77ii::r7:::::irrrv77L5IIsKQBQK7Z5::i:::::i7r::::..75vYYvi7777D
:.rrrrri7sv7vi:12jUJsJJiii7Qsivrrii7sii:::::J1::::::::ir7rPbXIqEQRD7DX::i:::::i7rr7i:::.:RBMDj7vvYXQ
::rririririiiii77Yu1jYIIii:dEr7Y:rr7i....::i5Br:::.....:ijBdKddgDg1Eb::i:i:i::rrrrr7r:::..uP222q1LYv
i.rrrrrrr:ii:iriii7jX5U2uii7QbrLsi7::.:.:::7ZB2:i::.:....iQgggP5gqdMi:iri:i::7vrriiir7i::. LI1I21Yuv
i::rrrrr:i:i:rrrrriYs5KX2sir5RP7jr:::::iiiiKPQKriii:::::..:BBX7ZZdMs:ivr:i::ujrir777r7r::::......:.
i:ririi:::i:rrrr77vj2uu5qXvi5PQ7::::iirrrr2ZDMQLririi::::..:S2dRbDE::7r:ir:Ljrvvv77ri:::riusvr7r7sr.
i:rriiiiii:ir7r7rrivY21UPdIrP2:::::iirr77uZdBQQQ7rrrii::::.. IBgXMv:rr:iirr5u1J5YL7ri:isYiYBIvvvvj1J
:.:::.....:rr7v7vrrs2Lu2qQPrr:::::iiii77jdUURBQBRrririi::::.. YZQdri1viivrPbPSsvrivvuLirIj:P1iiiiir:
uL122IU5Iq7777r7v1IPXKPQQQL:.::::iiir77JX2:EPBRQBdrriiii::::.. :RPi7SPi7UZgbJ7iiiiis5EIr:viiKsvv7Lv7
DqdbbPdPdb1LsvY7JY15dPQBP:.:::::iirr77sUDu:dMgBQBBXr7irii:::::. .rvuSXr2MZurirJ5Pu7::rqPKv7.1BQRQRQR
X5SK5KSS5P1v7suIuurrDBbr..:::i:iirrvvu1PPb77q1QBBg5J77iiii::::::..:IKqsDZsr1PgRMPEZEj:.r77i.:BBBBBBB
S152II55PP7irirsUuUKDs..::::i:iir7YsUIdbbEur7r7U11uS2v7rrii::::::...1QREXIEZd1v:..::YJi.. .i:77rrir:
2uU5UIII7L7LsIJuSgQq:..::::iiri77sjXXEZPXPI1IdqPK5s5s177rrii::::::.. JQgdZPK7::i::::.::ivKgPriii:ri:
5J52I2K7:ivJIuUU5Li.::::i:iirr7vjuX5YLv5IuIvIqgdKus7LqU77rrii:i:::::. :gMS2vrirri:::i7KDdKPvrirr7EY:
5UIS2SK7:r:iir7vi:::::iiirirrvvJjXIi::iq5U5vr5qP55775ZqJ77rrrrii::::.. .iiii:i:i:i:rJUsr:i7Jsvirrii:
d5dPbPMjir7vL7r:::i:iirirrrrvLuu2DUiiiiJbUS5r7JEXsrUEKdXsvv7rrrii::::::..:iiiiii77Li:.::::irvv7rrir:
svLY7LJ7i7r7ri:i:i:iirirr77vvsjIPQurrrii2qKEriYPvrvEKPPDKJ7v77rriii::::::..irv777JjUYr::::rL:777iiri
r:7r7vrirrrii:i:iiiirrrr77LvJJ2PgD5iY7ri7PPP1:UIrr5PdbgZb2u7v77rrrrii::::::.:7Lri:::ir7i::iB2irrrrr:
ZdZgR2r7iiiiiiiiiiirrrr7vLvJuIPgdMX7svrriKKPI:2XJPPZdZEPuUXj7L77rrrrii::::::.:irr77rii:i::.PBg7vsJvr
1uZQbr7rriiiririrrrr77vLYs11SPMEgMEvuvvrrXD2IrIXBMQEEPdX1sU5JLsvv77rriiii:::::::irv7L77rrri..rXBDuYr
S2XL:::::::::iiiirr7r77LvJuXIDgggRDL7vri.vKuU2j5bPqdqPPP5Y7L1Y7777rrii::::...........::::::rri.:vYLr*/
//This disgusting code is written by Juruo D0zingbear
//Please don't hack me! 0v0 <3
/*
_/_/_/_/    _/_/_/_/_/  _/_/_/
_/      _/      _/    _/      _/
_/      _/      _/    _/      _/
_/      _/      _/    _/      _/
_/      _/      _/    _/  _/  _/
_/      _/  _/  _/    _/    _/_/
_/_/_/_/      _/_/     _/_/_/_/_/

_/_/_/_/    _/    _/  _/      _/
_/      _/   _/  _/   _/_/  _/_/
_/      _/    _/_/    _/ _/_/ _/
_/      _/     _/     _/  _/  _/
_/      _/    _/_/    _/      _/
_/      _/   _/  _/   _/      _/
_/_/_/_/    _/    _/  _/      _/

_/_/_/_/_/ _/_/_/_/_/ _/_/_/_/_/
    _/         _/     _/
    _/         _/     _/
    _/         _/     _/_/_/_/
    _/         _/     _/
    _/         _/     _/
    _/     _/_/_/_/_/ _/_/_/_/_/

_/_/_/_/_/ _/_/_/_/_/ _/_/_/_/_/
    _/         _/     _/
    _/         _/     _/
    _/         _/     _/_/_/_/
    _/         _/     _/
    _/         _/     _/
    _/     _/_/_/_/_/ _/_/_/_/_/
*/
#include<bits/stdc++.h>
#define LL long long
#define pb push_back
#define mp make_pair
#define pii pair<int,int>
using namespace std;
namespace IO
{
    const int sz=1<<15;
    char inbuf[sz],outbuf[sz];
    char *pinbuf=inbuf+sz;
    char *poutbuf=outbuf;
    inline char _getchar()
    {
        if (pinbuf==inbuf+sz)fread(inbuf,1,sz,stdin),pinbuf=inbuf;
        return *(pinbuf++);
    }
    inline void _putchar(char x)
    {
        if (poutbuf==outbuf+sz)fwrite(outbuf,1,sz,stdout),poutbuf=outbuf;
        *(poutbuf++)=x;
    }
    inline void flush()
    {
        if (poutbuf!=outbuf)fwrite(outbuf,1,poutbuf-outbuf,stdout),poutbuf=outbuf;
    }
}
inline int read(){
	int v=0,f=1;
	char c=getchar();
	while (c<'0' || c>'9'){
		if (c=='-') f=-1;
		c=getchar();
	}
	while (c>='0' && c<='9'){
		v=v*10+c-'0';
		c=getchar();
	}
	return v*f;
}

const int Maxn=2005;
int dist[Maxn][Maxn],n;
set<pair<int,int> > S;
void ask(int x){
	printf("? %d\n",x);
	fflush(stdout);
	for (int i=1;i<=n;i++){
		scanf("%d",&dist[x][i]);
		if (dist[x][i]==1){
			if (i<x) S.insert(mp(i,x));
			else S.insert(mp(x,i));
		}
	}
}
int main(){
	scanf("%d",&n);
	
	ask(1);
	int c1=0,c2=0;
	for (int i=2;i<=n;i++){
		if (dist[1][i]&1)c1++;
		else c2++;
	}
	if (c1>c2){
		for (int i=2;i<=n;i++){
			if (dist[1][i]%2==0) ask(i); 
		}
	} 
	else{
		for (int i=2;i<=n;i++){
			if (dist[1][i]%2==1) ask(i); 
		}
	}
	printf("!\n");
	for (auto v:S){
		printf("%d %d\n",v.first,v.second);
	}
	fflush(stdout);
}