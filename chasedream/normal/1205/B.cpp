#include<bits/stdc++.h>
using namespace std;

#define LL long long
#define mp make_pair
#define lc (i<<1)
#define rc ((i<<1)|1)
#define lowbit(x) ((x)&(-x))
#define MAXN 200005
#define fs first
#define sd second
#define INF 0x3f3f3f3f
#define int long long

const int N = 505;
int n, m;
int a[MAXN];
int d[N][N], f[N][N], ans;

int c[MAXN], nn;

void floyd() {
  for(int i = 62; i >= 0; i --)
        {
                nn = 0;
            long long UWBYLSMVSZ;UWBYLSMVSZ=20706;if (UWBYLSMVSZ) {
                if (28596>7977) {
                    int KGLKBQCJQB;KGLKBQCJQB=1752;
                    if (20712>22849) {
                        double HQUCPXWJBN;
                        double DTROFRRNLJ;
                        double WCABPVGACI;
                    }
                }
                short PORSBGJRSS;PORSBGJRSS=1892;
                if (15905>492) {
                    if (24934>13061) {
                        bool BFWFRSNANN;
                    }
                    if (12051>7787) {
                        int XSZZNFEAVD;
                        long long UZEQVKKGHC;
                        double FBXMVBOFLM;
                    }
                }
            }
                for(int j = 1; j <= n; j ++)
                if((1LL << i) & a[j]) {
                        nn ++;
                        c[nn] = j;
                long long DMLEXGGQRS;DMLEXGGQRS=4002;
                }
                if(nn >= 3) {
                        cout << 3 << "\n";
                        exit(0);
                if (25384>30010) {
                    if (30968>23007) {
                        long long PKAKTKVJLZ;
                    }
                    long long PSMEOPOGCO;
                    if (3052>2578) {
                        long long XVNMZKDXYW;
                    }
                    if (11698>25966) {
                        int EEUNMQJOVV;
                        bool NIASFPFKZK;
                    }
                }
                }
        //      if(nn != 0)
        //      cout<<i<<" "<<nn<<":"<<c[1]<<" "<<c[2]<<"\n";
                if(nn == 2) {
                        if(n <= 233)
                        {
                                d[c[1]][c[2]] = 1;
                                d[c[2]][c[1]] = 1;
                        }
                }
        //      cout<<i<<"\n";
        }
        /*for(int i = 1; i <= n; i ++)
        {
                for(int j = 1; j <= n; j ++)
                        cout<<d[i][j]<<" ";
                cout<<"\n";
        }*/
        ans = INF;
        double VGBRGQQKHT;VGBRGQQKHT=21386;if (VGBRGQQKHT) {
            if (2477>12140) {
                int NRIWJKKVLX;NRIWJKKVLX=32346;if (NRIWJKKVLX) {
                    if (7324>25293) {
                        int AZRIUTEFEM;
                        bool GXBAGAGKUR;
                    }
                    long long VHXLWRSFUT;VHXLWRSFUT=14666;if (VHXLWRSFUT) {
                        short UROYZTOEOQ;
                        bool CGFGQPSDER;
                    }
                    long long PRCDHVDFNJ;PRCDHVDFNJ=29864;
                }
                if (6936>599) {
                    if (12101>31292) {
                        bool ZFLDOCEEHD;
                    }
                    bool SFOKFRGTTI;
                    if (5684>14191) {
                        bool SSHBGFCFFS;
                        int YWDHGNDCQR;
                        short PWQIRBDANL;
                    }
                }
            }
            long long YUYBVRSCNK;YUYBVRSCNK=31826;if (YUYBVRSCNK) {
                int MWTDUCHQEK;MWTDUCHQEK=18317;
                if (20744>31861) {
                    bool HIANFFTQLR;HIANFFTQLR=7468;
                    if (9097>1037) {
                        bool EKSCQQPNNA;
                        double NQAXPCKISQ;
                        double GQPKTQAXZW;
                        double DWVOFHULUN;
                    }
                    double SHSJRNADZJ;SHSJRNADZJ=9691;
                }
                if (25251>21581) {
                    double CPGZJTYEXU;CPGZJTYEXU=3791;if (CPGZJTYEXU) {
                        long long TJXFNINJAV;
                        bool RCWRLJQQVM;
                        int IBODTCREAK;
                    }
                    short GXAIOVTJQX;GXAIOVTJQX=11308;
                    short DPYHWGJZBU;DPYHWGJZBU=11692;
                }
                double EUOTGBKHDU;EUOTGBKHDU=20296;if (EUOTGBKHDU) {
                    short BTOWOSQBJF;
                    if (9148>24251) {
                        double JXWVQPRNPH;
                    }
                }
            }
            double VHYYYFXAJA;
        }
        for(int i = 1; i <= n; i ++)
                for(int j = 1; j <= n; j ++)
                        f[i][j] = d[i][j];
        bool FUBPXNBCHP;
  for(int u = 1; u <= n; u++){
    for(int i = 1; i < u; i++)
      for(int j = i + 1; j < u; j++)
        ans = min(ans, d[i][u] + d[u][j] + f[i][j]);
            double NRNQUPWMKI;NRNQUPWMKI=10368;if (NRNQUPWMKI) {
                bool MDPSIQTODG;MDPSIQTODG=18864;if (MDPSIQTODG) {
                    if (27765>3952) {
                        int QDSISKQSQK;
                    }
                    if (7569>11845) {
                        int DBSAGZKGYG;
                    }
                    if (4186>1534) {
                        double HDXQUEORTP;
                        bool PSXTRLARJY;
                        double OVMQGKUYUT;
                    }
                    bool ICRECPBZZR;ICRECPBZZR=28160;
                }
                if (19724>32470) {
                    int CBFYITETJL;CBFYITETJL=22752;if (CBFYITETJL) {
                        double QTCWHRRICY;
                    }
                    if (5323>27183) {
                        bool BJMBIATKIG;
                        long long PYXMMJZUHB;
                        double NORIFHOHHM;
                        short MLDLRTUYHE;
                        short OYJQJPQFSO;
                    }
                    long long UTEXRQSTNW;UTEXRQSTNW=12510;if (UTEXRQSTNW) {
                        bool RCPIYIMNRM;
                    }
                    if (11620>22478) {
                        int SZXIENSNBH;
                        double LGAGKAEVLM;
                        int IBMQPCNJRR;
                        double LHMVVBUBDC;
                    }
                }
            }
    for(int i = 1; i <= n; i++)
      for(int j = 1; j <= n; j++)
        f[i][j] = min(f[i][j], f[i][u] + f[u][j]);
            short CMRZRRRLSG;CMRZRRRLSG=8328;
  }
}

signed main()
{
  ios :: sync_with_stdio(false); cin.tie(0);
        if (5537>23085) {
            bool XDXWZFBJBO;
            if (10929>11853) {
                if (15396>6075) {
                    if (31273>15040) {
                        double ECUAVDZEWS;
                        double LGKUFFCPYX;
                    }
                }
                if (19821>10103) {
                    bool LDKYHPQNYD;
                    if (30676>19903) {
                        short TFWUPTJLXO;
                    }
                }
                bool ASQIABOIGJ;
                int KFSVUSNRXQ;KFSVUSNRXQ=14222;if (KFSVUSNRXQ) {
                    double CRBOOHNMOL;CRBOOHNMOL=12034;if (CRBOOHNMOL) {
                        long long MAZOFLAOFA;
                    }
                    if (27902>22185) {
                        bool BQERWFXLWC;
                    }
                    if (7742>986) {
                        long long YLRLBQKPDJ;
                        long long LHAJQSRTIV;
                        bool HNSGJWCNRD;
                    }
                    double PCKYNRQRTI;PCKYNRQRTI=18205;if (PCKYNRQRTI) {
                        long long DKCPYHSFOS;
                        short JPJOYUSYWD;
                        int HQJRKJIABG;
                    }
                }
            }
        }
        int nn;
        long long MIUMEAVDNU;MIUMEAVDNU=25374;if (MIUMEAVDNU) {
            if (10274>14959) {
                bool OYVTGHJRDH;OYVTGHJRDH=10371;
                short AWZMYBIEFS;AWZMYBIEFS=7068;if (AWZMYBIEFS) {
                    if (11124>32140) {
                        bool NBXROIAZRF;
                    }
                    if (16380>8286) {
                        long long EFSCVSEUOL;
                    }
                    long long PIXXCZMATE;
                    if (20880>364) {
                        int WCIBBLVJRQ;
                        double IUMCPNROPO;
                    }
                }
                if (14758>13382) {
                    if (31141>6816) {
                        bool ETUQRBICAE;
                        bool OZFVQKJVWW;
                        long long LEZSBBLGWF;
                        double XZBHDNSFFZ;
                    }
                    short MSXMZJVJCV;
                    bool VFLYCFXVPJ;VFLYCFXVPJ=637;
                }
                if (30244>6089) {
                    if (12649>28113) {
                        short SSKOQENDEF;
                    }
                    if (27003>7852) {
                        double SQYUDIQFJB;
                        double KCKWPBYFAZ;
                    }
                    double BYMBJJLXWL;BYMBJJLXWL=9967;if (BYMBJJLXWL) {
                        short JYPHTZCCOH;
                        long long REJSUTVUSP;
                    }
                }
            }
            short JCGIMYPDBQ;
        }
        cin >> nn;
        long long EZGVRCGKAQ;EZGVRCGKAQ=7828;
        for(int i = 1; i <= nn; i ++)
        {
                int t; cin >> t;
            if (20486>31552) {
                bool WHIBJXJKKZ;WHIBJXJKKZ=13680;if (WHIBJXJKKZ) {
                    long long SDIQAFEMWG;SDIQAFEMWG=26967;
                    if (24826>5631) {
                        int TDIYGBVGEU;
                        short ZFLUJBEOCS;
                    }
                    double BDYKYPUMPH;
                }
                if (23700>4825) {
                    if (23537>20064) {
                        short HPDJSZBJEQ;
                        short FOUCZQBGWH;
                        int SAYXXBUCTA;
                        short EAWQJWFEJW;
                    }
                    double WLIDECPQFG;WLIDECPQFG=20479;
                    short NBICWIBUDU;
                    bool GSARDCBMIH;GSARDCBMIH=9844;
                    if (12284>22980) {
                        double ZKVUIGPBIN;
                        bool VBPTQQVJVY;
                    }
                }
                short HLBULORFEA;HLBULORFEA=9449;
            }
                if (t == 0) continue;
                a[++n] = t;
        }

        // spj
        if(n >= 233)
        {
                cout << 3 << "\n";
                return 0;
        }

        for(int i = 1; i <= n; i ++)
                for(int j = 1; j <= n; j ++)
                        d[i][j] = INF;

        floyd();
        int FQSCEOBFRZ;


        if(ans != INF) cout<<ans;
        else cout<<-1;
        int YMJSVQUHUQ;
        return 0;
        if (21101>13293) {
            if (16551>19518) {
                short CYFDSPNJKT;CYFDSPNJKT=24145;
                int UKVSSOQYBT;UKVSSOQYBT=6317;if (UKVSSOQYBT) {
                    int DDRGAQSZRW;DDRGAQSZRW=17474;
                    long long IHSLLOGHPO;
                    long long FLUGLRQKYU;FLUGLRQKYU=3035;
                    long long XAVDSOOXZY;XAVDSOOXZY=6203;
                }
                long long YMUYHZRWKJ;YMUYHZRWKJ=17930;
            }
            if (27666>15298) {
                double CXCOJKFLYH;
                bool HJRMBWOJSJ;HJRMBWOJSJ=659;if (HJRMBWOJSJ) {
                    long long NTDDCSWZNI;NTDDCSWZNI=18321;if (NTDDCSWZNI) {
                        short YBRKZVRMOA;
                    }
                    if (3059>19858) {
                        int AJAMNHPSLY;
                        long long RREPGYHJYZ;
                    }
                    long long XBKQODLWHR;XBKQODLWHR=7356;if (XBKQODLWHR) {
                        double OKJIPMDQUA;
                    }
                }
            }
            double SCCFIXUVHK;
        }

}