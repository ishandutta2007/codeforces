#include<iostream>
#define int long long
#define FOR(i,a,b) for(int i=a;i<=b;i++)
using namespace std;int dp[3005][3005],f[3005][3005],mod=998244353,ans[3005],a[3005],c[3005],p2[3005],p[3005],inv[3005];int P(int x,int y){if(!y)return 1;int t=P(x,y/2);return (y&1)?t*t%mod*x%mod:t*t%mod;}signed main(){ios::sync_with_stdio(0);cin.tie(0);int n,m;cin>>n>>m;if(m<=11){FOR(i,1,n)cin>>a[i];dp[0][0]=1;int to;FOR(i,1,n)for(int j=i/m;j>=0;j--)for(int mask=(1<<m)-1;mask>=0;mask--){int &t=dp[j][mask];while(t>=mod)t-=mod;to=mask|(1<<(a[i]-1));if(to==(1<<m)-1){dp[j+1][0]+=t;}else dp[j][to]+=t;}for(int j=n/m;j>=0;j--)for(int mask=(1<<m)-1;mask>=0;mask--)ans[j]+=dp[j][mask];ans[0]--;FOR(i,0,n)cout<<ans[i]%mod<<' ';return 0;}p2[0]=1;FOR(i,1,n)cin>>a[i],p2[i]=p2[i-1]*2%mod;p[n]=1;FOR(i,0,n)inv[i]=P(p2[i]-1,mod-2);FOR(i,1,n){int cnt=0;FOR(j,1,m)c[j]=0;int num=1;FOR(j,i,n){if(!c[a[j]])cnt++;c[a[j]]++;if(c[a[j]]!=1)num=num*inv[c[a[j]]-1]%mod*(p2[c[a[j]]]-1)%mod;if(cnt==m)f[i][j]=num*inv[c[a[j]]]%mod;}if(cnt==m)p[i-1]=(p2[n-i+1]-num+mod)%mod;else p[i-1]=p2[n-i+1];}dp[0][0]=1;FOR(i,m,n)FOR(j,1,i/m){__int128 t=0;FOR(k,(j-1)*m,i-m)t=t+dp[k][j-1]*f[k+1][i];dp[i][j]=t%mod;ans[j]=(ans[j]+dp[i][j]*p[i])%mod;}int S=1;FOR(i,1,n)S=S*2%mod;S--;FOR(i,1,n/m)S=(S-ans[i]+mod)%mod;cout<<S<<' ';FOR(i,1,n)cout<<ans[i]<<' ';return 0;}