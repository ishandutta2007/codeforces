// ...,o[[[[[[[[ooo[[[[\oooOooooo**]]]`,oOO@@@@@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OoOOOOOOOOOOOOOOO
// ....*.........*.........*........**.*oOOOOOOOOOOOOOOOo\oOOOOOOOooooOOOOOOOOOOOOOOOO@@@@o**/oOOOOOOOOOOOO
// /**[oooo\]*[ooooo]]`**,/o***....,OOO@OOO@@@OOOOOOOO@@@O\`=O\*OOOOO@@O\*[[\\ooooOOOOOO@OO**oOOOOOOOOOOOOO
// ........**........[`......*,OOO@@@@@OO@O@@OOOOOOOOOOO@@@OO\@@OOOo[oOOOOOo`*......***o@Oo**oo^*****^**...
// ........*`........**....,]/O@@@@OOOOO@@@@@OO@O@@@@@OOOO@@@OOO\OO@OOOO@OOOOOo^*..***=O@Oo**ooo****oo^****
// ****oooo/[`*=oo\`,^**]O@@@@@@@OoOOooO@@O[O@@@@@@@@@@@@@OOO@@@OOOOOO@OO@@OOOOoo`*.**=O@O/**ooo***********
// ..............*..../@@@@O[O@O^]O@OO@@@@OOO@@@@@@@@@@@@@@@@@@@@@OOOOOO@OOOOOOOOOoo]*,O@O^**oo/***********
// `**=o\*****..**.,O@@@O*,O@@OOO@@@OO@@OOO@@@O@@@@@O@@@@@@@@@@@@@@@OOOOO@OOOOOOOOO\/\*,OO^**oo^........*..
// ........**....,O@@OO\/O@@@@OO@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@@@@@@OO@OOOOOOOOOOOOOOo`*,`**oo^...........
// .............OOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOoOOOOo`***oo*...........
// ****,]**=o\oO@OOOO@@@@@@@@@@@O@@@@@@@@@@@@@@@@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@OO@OOOOOOOOO]**oo*...........
// ....**..*/O@OOOO@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOo/\OOOOOOOo*...........
// ****/`*,O@@@OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Oo]]oOOOO@OO^....   ....
// *....,oOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O@@@@OOOO`*oOO@OO^...   ....
// ......=O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O@@O^*O@OOO\..    ....
// `**,oO@@@@OOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOOOOOOO@@@@@@@@@@@@@@Oooo\O@@O.     ...
// ....oO@@@@OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO/o[***oo[*****,oOOOOOOOO@@@@@@@@@OO\oO@@O`    ...
// ...,OO@@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO`*................,[[`**,\oOO@@@@@@@@O^=O@@O.   ...
// **=OO@OOO@@@@@@@@@@@@@@@@@@@@@@OOOO@OOOOOOOO@@@@@OO/*...........................*,\O@@@@@@@@OO@@^.   ...
// ../O@@@@@@@@@@@@@@@@@@OO@@@OOO@OOOOOOoooooooOOOOOoo*.....         .......      ....\O@@@@@@@@@O@O^.  ...
// *=O@@@@@@@@@@@@@@@@@OOOOOOOOo/oo/*[****....**,\/*.....                           ...\O@@@@@@@@@@@o.  ...
// .=@@@@@@@@@@@@@@@@Ooooo[****.......................                               ...OO@@@@@@@@@@O.  .. 
// *O@@@@@@@@@@@@@@@Ooo`**.............                                               ..,O@@@@@@@@@@@O.    
// *\O@@@@@@@@@@@@@OO**..........                                  .......]]]]*,*..    ..=O@@@@@@@@@@/.    
// .=O@@@@@@@@@@@@@Oo*...............      .....  ....      .......,]/O@@@OO@OOo/[^*.   ..=O@@@@@@@@@O.    
// `oO@@@@@@@@@@@@@Oo*........,/ooooOOOOOO\]]`*`.............*,/OO@@@@@@O/[[.*......*..   .,O@@@@@@@@O.  . 
// .\O@@@@@@@@@@@@@O/.......*/oOOOO@@@@@@@@@@@OO\*...........*oOOOOOo`..       .........   .,O@@@@@@@O.    
// .=O@@@@@@@@@@@@@O^....../Oo=oo[[`**,**[[[\oOO/**...........**[`*..............*=o]]`..    =@@@@@@Oo..   
// **\@@@@@@@@@@@@@O*.....*`***.......    ......**.....     ....,oOOo*.          ....\@@@@@` .@@@@@@O/.    
// ..,O@@@@@@@@@@@O^......*.......        ....**]]...        ,OO[`....,]]]]]]]..   .  .@@/\OO`,O@@@@O`     
// `.,O@@@@@@@@@@@O`.............,]`***..........*[\OOOO@@@@@@   ...oO@@@@@@@@@@@OO*..,OO..[\OO\=@@@O.     
// ...,O@@@@@@@@@@o*..... ..]/OO[`.   ,]]/OOO\`...   ,@@`  ,\O      ............   ....[`.     ,@@@O`.  .  
// ....O@@@@@@@@@O^....,]O@@@/....]O@@@@@@@OO[[.     =O^    =@O        ........        ..       =O^       .
// ***.,O@@@@@@@@@^]OOO@@@@@^../OO@O/[[[......      ,@@O.    \@\                       *        .OO`,/\]   
// .....,O@@@@@@@OOOOO[.  .OO. .       .....       .O@@`      ,@\                    ..         .\OOOOO@O. 
// *...../@@@@@O@@@O`..... .O^                     .=@`         \O`              ..=*.           .o..,OOO^ 
// ....=`[\@@@@@@@^.......  =\.                  ...O`            [[**...........                .[. .[oo. 
// ....     .\O@@O......     ,^                ..]/O`  .........     ..              ..         ..,*. .\.. 
// *,.  ,/O\].O@@@^......  .  .o]...........]]\`[[`  .,]/oOOOOOOO\`. .....            ...  .......OO...*.  
// ..../@@OOOOO@@O^...........  ........  .   ..*...]@@@@OOOOO@@@@@O\.....             ...........OO^. ..  
// *...O@@O^.=O@OO\...............         .....,oO/O@OOOOOOOO[*,\OO/.               ..............\`.     
// .*...O@O^.*\OOOO*.............         ........\OOO`.......                  ................  ...      
// .....,OO^.=OO@@O^...........................      ..... ...                   ...............           
// *.**].,[^.oOO@@@^........................                                     ...............     .     
// ..........oOOOOO`.......................             .]]].,]/o]].   ......     .............            
// ..........,OO^..=^***..............................,OOOOOOOOOO@@@@\]..*****..  .............            
// ****,****........**...........................***/@@@@@@@@@@@OOO@@@@@@@OO\*..................]]...      
// ..............   .**......................=oooOO@@@@@/[.....     .,\OOOOOOo`...  ................       
// *..***.......*. ....*....................=ooO@@@@@O`.**]]*..,/\]]*.....*,ooo*............**.            
// ........**...      ..*...................*oOOOOo`**=oOOOO@@@@@@@OO\]*...**oo`*..........**..,]**........
// .............      .=\*.*................*=oo/******\OOO@@@OOOOOOOo`*******[[*****.....***.*=^***,[[oooo
// .*************....*]Oo`****..............*,\^**...*****........  ........*.********.**/o^..=^***********
// ..............*........******........*******[***.......   ....      ........*******,ooOo`.,oo/oo\]]]]]]]
// ...***.......**........*/`]/\*******************.............................*/ooooooOO^. .........*****
// ..................*......*\ooooo\]**************.......*]o\]]]]]/]]`.......**ooOOOOOOOo*.               
// ..................*.......*oooooooooooooooo^******..*,oOOOOOOOOOOOOOOoooooooOOOOOOOOOo*..               
// ...**..***..***..*`]****`***ooOOOOOOOOOOOOOoooooooooOOOOOOO@@@@@@@@OOOOOOOOO@@@OOOOOo*... ,/\`....      
// ....*.......................*oOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@OOOOOOo`.... .O@Ooo*...    
// ...***.......***.......*.....,ooOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOo`*.... .OOOo*...     

#include <bits/stdc++.h>

int main() {
	std::ios_base::sync_with_stdio(false);
	std::cin.tie(0);

	int n, m;
	std::cin >> n >> m;
	std::vector<int> l(n), r(n), a(n);
	long long ans = 0;
	for (int i = 0; i < n; ++i) {
		std::cin >> l[i] >> r[i] >> a[i];
		ans += a[i];
	}

	auto check = [&](int s, int now) {
		for (int i = s; i < n; ++i) {
			if (i > s && r[i - 1] < l[i]) {
				now = 0;
			}
			now += a[i];
			int t = now / m + (now % m != 0);
			if (t > r[i] - l[i] + 1) {
				return false;
			} else if (t == r[i] - l[i] + 1) {
				now -= (t - 1) * m;
			} else {
				now = 0;
			}
		}
		return true;
	};

	if (!check(0, 0)) {
		std::cout << -1 << "\n";
		return 0;
	}
	
	int now = 0;
	for (int i = 0; i < n; ++i) {
		now += a[i];
		int t = now / m + (now % m != 0);
		if (t == r[i] - l[i] + 1) {
			if (check(i + 1, now - (t - 1) * m)) {
				now -= (t - 1) * m;
			} else {
				ans += t * m - now;
				now = 0;
			}
		} else if (check(i + 1, now % m)) {
			now %= m;
		} else {
			ans += t * m - now;
			now = 0;
		}
	}
	std::cout << ans << "\n";
}