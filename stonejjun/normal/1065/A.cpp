#include <bits/stdc++.h>
using namespace std;
#define mod 1e9+7
const int maxn = 200005;
const int maxm = 200005;
int arr[1000000];


int main() 
{
	long long int a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;
	scanf("%lld",&t);
	while(t--)
	{
	
	scanf("%lld %lld %lld %lld",&s,&a,&b,&c);
	k=s/c;
	p=k/a;
	o=p*b;
	printf("%lld\n",k+o);
	 
	}
	return 0;
}