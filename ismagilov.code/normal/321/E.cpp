/**
 * code generated by JHelper
 * More info: https://github.com/AlexeyDmitriev/JHelper
 * @author Azat Ismagilov
 */

/*                                                            ..---..._
                                                          ..--""         "-.
                                                     ..-"""                 ".
                                                 ..-""                        "
                                              .-"
                                           .-"      ... -_
                                       .="   _..-" F   .-"-.....___-..
                                       "L_ _-'    ."  j"  .-":   /"-._ "-
                                          "      :  ."  j"  :   :    |"" ".
                                    ......---------"""""""""""-:_     |   |\
                          ...---""""                             -.   f   | "
                  ...---""       . ..----""""""""..                ".-... f  ".
           ..---"""       ..---""""""""-..--"""""""""^^::            |. "-.    .
       .--"           .mm::::::::::::::::::::::::::...  ""L           |x   ".
     -"             mm;;;;;;;;;;XXXXXXXXXXXXX:::::::::::.. |           |x.   -
   xF        -._ .mF;;;;;;XXXXXXXXXXXXXXXXXXXXXXXXXX:::::::|            |X:.  "
  j         |   j;;;;;XXX#############################::::::|            XX::::
  |          |.#;::XXX##################################::::|            |XX:::
  |          j#::XXX#######################################::             XXX::
  |         .#:XXX###########################################             |XX::
  |         #XXX##############################XX############Fl             XXX:
  |        .XXX###################XX#######X##XXX###########Fl             lXX:
   |       #XX##################XXX######XXXXXXX###########F j             lXXX
   |       #X#########X#X#####XXX#######XXXXXX#######XXX##F  jl            XXXX
   |       #X#######XX#"  V###XX#' ####XXXXXX##F"T##XXXXXX.  V   /  .    .#XXXX
    |       #########"     V#XX#'  "####XXXX##.---.##XXXXXX.    /  /  / .##XXXX
    |       "######X' .--"" "V##L   #####XXX#"      "###XXXX. ."  /  / .###XXXX
    |         #####X "   .m###m##L   ####XX#      m###m"###XX#   /  / .#####XXX
     |         "###X   .mF""   "y     #####     mX"   "Y#"^####X   / .######XXX
     |           "T#   #"        #     ####    X"       "F""###XX"###########XX
     |             L  d"     dXX  xm   "^##L mx     dXX  YL-"##XX"S""##########
      |            xL J     Xd%    T      ""  T    XdX    L. "##XS.f |#########
      |             BL      X## X                  X## X      T#SS"  |#########
      |              #L     X%##X                  X%##X|     j#SSS /##########
       |              #L  ._ TXXX-"           "-._  XXXF.-    ###SS\###########
       |              ##   """""                  """"""      ##DS.\###########
       |              TF                                      ##BBS.T#########F
        |             #L           ---                        ###BBS.T########'
        |            '##            ""                     jL|###BSSS.T#######
         |          '####             ______              .:#|##WWBBBSS.T####F
        J L        '######.            \___/            _c::#|###WWWBSSS|####
       J ;;       '########m            \_/            c:::'#|###WWWBBSS.T##"
      J ;;;L      :########.:m.          _          _cf:::'.L|####WWWWSSS|#"
    .J ;;;;B      ########B....:m..             _,c%%%:::'...L####WWWBBSSj
   x  ;;;;dB      #######BB.......##m...___..cc%%%%%::::'....|#####WWBBDS.|
  " ;;;;;ABB#     #######BB........##j%%%%%%%%%%%%%%:::'..... #####WWWWDDS|
  .;;;;;dBBB#     #######BB.........%%%%%%%%%%%%%%%:::'...   j####WWWWWBDF
  ;;;;;BBB####    ######BBB.........%%%%%%%%%%%%%%:::'..     #####WWWWWWS
  ;;;;dBBB####    ######BBB..........^%%%%%%%%%%:::"         #####WWWWWWB
  ;;;:BBB######   X#####BBB"..........."^YYYYY::"            #####WWWWWWW
  ;;.BB#########  X######BBB........:''                      #####WWWWWWW
  ;;BB##########L X######BBB.......mmmm..                 ..x#####WWWWWWB.
  ;dBB########### X#######BB.....        "-._           x""  #####WWWWWWBL
  ;BBB###########L X######BB...              "-              ######WWWWBBBL
  BBB#############. ######BBB.                                #####WWWWBBBB
  BBB############## X#####BBB                                 #####WWWWWBBB
  BBB############### T#####BB                                  #####WWWBBB     :
  BB################# T###BBP                                   #####WWBB"    .#
  BB##################..W##P                                      ###BBB"    .##
  BB###################..l                                         "WW"      ###
  BB####################j ___                                        " l    j###
  BBB##################J_-   """-..             ':::'   .-""""""""""-.  l  .####
  BBB######B##########J########    "-.           ::'  -" ..mmm####mm.."-.< #####
  MCL-5/7/88 BBB#####J############    "-_        :|  " .###############mmLlR####
  BBBBBBBBBBBBBBB###/         #######    -.     .:| ".#####F^^^P^^"""^^^Y#lT####
  BBBBBBBBBBBBBBBBBj|####mm        ######xx-...:::|" ###f      .....      "#T###
  BBBBBBBBBBBBBBBBjj##########mm..           ":::."j##F  .mm#########mmm.. Yj###
  BBBBBBBBBBBBBBBB|^WWWSRR############mmmmm xx """mjF.mm####################j###
  BBBBBBBBBBBBBBBB|                      ######mmmmmm#######################j###
  BBBBBBBBBBBBBBBBY#m...   ..mmm##########PPPPP#####m..                    lj###
  BBBBBBBBBBBBBBBBB2##############^^""     ..umF^^^Tx ^##mmmm........mmmmmmlj###
  BBBBBBBBBBBBBBBBBJT######^^^""     .mm##PPPF"...."m.  "^^###############lj####
  BBBBBBBBBBBBBBBBB##^L         .mmm###PPP............"m..    """"^^^^^"" lj####
  BBBBBBBBBBBBBBBB#####Y#mmx#########P.................."^:muuuummmmmm###^.#####
  BBBBBBBBBBBBBBBB#####::Y##mPPPPF^".......|.............. ""^^######^^"...#####
  BBBBBBBBBBBBBB########..................F............      \     ........#####
  BBBBBBBBBBBBB#########.................|..........          :       ....l#####
  BBBBBBBBBBBB###########...............F.........             \        ..######
  BBBBBBBBBBB#############.............|........                :         dA####
  BBBBBBBBBB##############.....................                           kM####
  BBBBBBBBB################..................                             k#####
  BBBBBBB##################................                               k#####
  BBBBB#####################.............                                 t#####
  BB########################............                                  "E####
  B########################F............                           .       "####
  #########################............'      |                    ..       "L##
  ########################F............                           ...        "L#
  #######################F............'                           .....       "#
  ######################F.............                           .......       "
  #####################$..............                         .........
  #####################lmmm.............                      ...........   ..m#
  ####################j########mmmm.............            ......mmmmmm########
  ###################j###::::;:::::########mmmmmmm##############################
  ##################j:::::::;:::::::;;::##############################^^^""""
  ##################.mm:::mmm######mmmm:::' ^^^^^^""#######^^""""
  #################F...^m::;::################mmm  .mm"""
  #################.......m;::::::::::::#########^"
  ################F.........###mmm::::;' .##^"""
   ##############F...........:#######m.m#"
     ############..............':####
       #########F............mm^""
         #######..........m^""
            ####.......%^"
               #.....x"
               |.x""
              .-"
            .-
          .-
        .-
       -
     -"
   -"
  "
                                                                               x
                                                                             xx
                                                                           xx
                                                                       xxx"
                                                                   xxx"
                                                             .xxxx"
                                                     ___xxx""
                                               .xxxx""....F
                  """"mmxxxxx          ___xxx^^^..........'
                     .xx^^^^YYYY###xxx^^.................|
                  .xx^"        #######x..................|
               .xx"          ###########mx..............f
             .x^            ##############xx............|
            j"             ##############    x..........;
  .........#              ############       #x.........|
  x.......j"              ##########       ####x.......f
   xxx....#..            ########        #######x......|
     xxxx.#....         #######        ##########x.....|
        xxx......       #####         #########   x....|
           xxx......    ###          #######      #m...|
             xxx......  ##           ######      ####..|
               xxx......#.          #####       ######m|
                 xxxx.......        ###        #######Fx
                     xxx......      #         j#####    m
                        xx......              ####      Jxm
                         xxx......           ####      j###Km
                            xxx.....         ###      j####F  m
                               xx......       #       ###F    .m
                                 xxx ....            j##F    .###m
                                 m..xx.....          ##F    j#####K^mm.
                                  m...xx......       ##     #####F    ####mm
                                  m .....x......     F     j####F    ########
                                   m  ......x.....         ###F    J##########
                                   "m  ........x....      .#F     #########^^|
                                    "......mmF^^^x....    ##     ######      |
                                     lL..jF        x.... .F      ####       |
                                     lTLJF           x....      ####        |
                                     l::|.            "....    j###       ##
                                      l....            L....   ###F     x##
                                       l....       ..m##L...   ##F     j###
                                       l:...        #####L...  #F     j####
                                        l....    ####     ...        #####
                                        "....              ...       ####F |
                                         l....              ...     j###F  |
                                          #...               ....   ###F    |
                                          "#..              .jL.... ##F     |
                                           ##.            .m###L....#F      |
                                           "##        ..mm###### ....       |
                                            |                   |...        |
                                            k                    |...       |
                                            l                    |...       k
                                             k                 .m#L...     Jk
                                             ##            ..mm####L...     k
                                             ###         d########' L....   |
                                             l                   |   "-.__-"
                                             l                   |
                                             l                  j#
                                             :                 j##
                                              k               j##'
                                              l            .m###k
                                              l           ###^^"|
                                              |                 |
                                              j               .##
                                              |              ######
                                              |==          ##### ####
                                             .k          #####"   ####
                                             l         #####^     ####
                                             l       ###         ####'
                                             !                 m###F
                                             |               ######
                                             |           mm##m###'
                                             |.       m########F
                                             |.    m#######F" #
                                             d.   ###        #
                                            |..             .'
                                            |..             |
                                             k..           :
                                             \...          F
                                              |...        #d
                                              |...       ###
                                               L...     ####.
                                               |...    j### |
                                                L...   ###  |
                                                T...  j##    k
                                                 \... ##     |
                                                   \...      . MCL
                                                     "^-____-                  */

#include <bits/stdc++.h>

#define fs first
#define sc second
#define pb push_back
#define ppb pop_back
#define pf push_front
#define ppf pop_front
#define mp make_pair
#define len(v) ((int)v.size())
#define vc vector
#define pr pair
#define endd "\n"; return 0;
#define all(v) v.begin(), v.end()
#pragma GCC optimize("Ofast")
#pragma GCC target("sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,tune=native")
#pragma GCC optimize("unroll-loops")

using namespace std;

template<typename T, typename U>
inline ostream &operator<<(ostream &_out, const pair<T, U> &_p) {
    _out << _p.first << ' ' << _p.second;
    return _out;
}

template<typename T, typename U>
inline istream &operator>>(istream &_in, pair<T, U> &_p) {
    _in >> _p.first >> _p.second;
    return _in;
}

template<typename T>
inline ostream &operator<<(ostream &_out, const vector<T> &_v) {
    if (_v.empty()) { return _out; }
    _out << _v.front();
    for (auto _it = ++_v.begin(); _it != _v.end(); ++_it) { _out << ' ' << *_it; }
    return _out;
}

template<typename T>
inline istream &operator>>(istream &_in, vector<T> &_v) {
    for (auto &_i : _v) { _in >> _i; }
    return _in;
}

const int MAXN = 4e3;
const int INF = 1e9;
const int MOD = 1e9 + 7;

pr<int, int> dp[900][MAXN + 1];
int sum[MAXN + 1][MAXN + 1];
int ddd[MAXN + 1][MAXN + 1];

void rec(int x, int l, int r, int n, int m) {
    if (l > r) {
        return;
    }
    int mid = (l + r) / 2;
    dp[x][mid] = mp(INF, -1);
    for (int v = max(x, n); v <= min(mid, m); v++) {
        dp[x][mid] = min(dp[x][mid], mp(dp[x - 1][v - 1].fs + sum[v][mid], v));
    }
    rec(x, l, mid - 1, n, dp[x][mid].sc);
    rec(x, mid + 1, r, dp[x][mid].sc, m);
}

class cielandgondolas {
public:
    void solve(std::istream &in, std::ostream &out) {
        int n, k;
        scanf("%d%d", &n, &k);
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= n; j++) {
                getchar();
                char c = getchar();
                ddd[i][j] = ddd[i][j - 1] + c - '0';
            }
        }
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= n; j++) {
                if (j > i) {
                    sum[i][j] = sum[i][j] + sum[i][j - 1] + ddd[j][j] - ddd[j][i - 1];
                }
            }
        }
        for (int i = 1; i <= n; i++) {
            dp[1][i].fs = sum[1][i];
        }
        for (int i = 2; i <= k; i++) {
            rec(i, 1, n, 1, n);
        }
        out << dp[k][n].fs;
    }
};


main() {
    ios_base::sync_with_stdio(0);
    cin.tie(0);
    cielandgondolas solver;
    std::istream &in(std::cin);
    std::ostream &out(std::cout);
    solver.solve(in, out);
    return 0;
}