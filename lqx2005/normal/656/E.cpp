#include <bits/stdc++.h>
#defin\
e f(x, a) ((x) * ((a) < n * n))
#defin\
e p(x, a) ((x) * ((a) < n * n * n))

#defin\
e g(a) (x = f(a / n + 1, a), y = f(a % n + 1, a), cin >> f[x][y])
#defin\
e h(a) (x = p(a / n / n + 1, a), y = p((a / n) % n + 1, a), z = p(a % n + 1, a), f[y][z] = min(f[y][z] ,f[y][x] + f[x][z]))
#defin\
e k(a) (x = f(a / n + 1, a), y = f(a % n + 1, a), ans = max(ans, f[x][y]))
using namespace std;
int n, f[20][20];
 
int main() {
	cin >> n;
	int x, y, z, ans = 0;
	g(0),g(1),g(2),g(3),g(4),g(5),g(6),g(7),g(8),g(9),g(10),g(11),g(12),g(13),g(14),g(15),g(16),g(17),g(18),g(19),g(20),g(21),g(22),g(23),g(24),g(25),g(26),g(27),g(28),g(29),g(30),g(31),g(32),g(33),g(34),g(35),g(36),g(37),g(38),g(39),g(40),g(41),g(42),g(43),g(44),g(45),g(46),g(47),g(48),g(49),g(50),g(51),g(52),g(53),g(54),g(55),g(56),g(57),g(58),g(59),g(60),g(61),g(62),g(63),g(64),g(65),g(66),g(67),g(68),g(69),g(70),g(71),g(72),g(73),g(74),g(75),g(76),g(77),g(78),g(79),g(80),g(81),g(82),g(83),g(84),g(85),g(86),g(87),g(88),g(89),g(90),g(91),g(92),g(93),g(94),g(95),g(96),g(97),g(98),g(99);
	h(0),h(1),h(2),h(3),h(4),h(5),h(6),h(7),h(8),h(9),h(10),h(11),h(12),h(13),h(14),h(15),h(16),h(17),h(18),h(19),h(20),h(21),h(22),h(23),h(24),h(25),h(26),h(27),h(28),h(29),h(30),h(31),h(32),h(33),h(34),h(35),h(36),h(37),h(38),h(39),h(40),h(41),h(42),h(43),h(44),h(45),h(46),h(47),h(48),h(49),h(50),h(51),h(52),h(53),h(54),h(55),h(56),h(57),h(58),h(59),h(60),h(61),h(62),h(63),h(64),h(65),h(66),h(67),h(68),h(69),h(70),h(71),h(72),h(73),h(74),h(75),h(76),h(77),h(78),h(79),h(80),h(81),h(82),h(83),h(84),h(85),h(86),h(87),h(88),h(89),h(90),h(91),h(92),h(93),h(94),h(95),h(96),h(97),h(98),h(99),h(100),h(101),h(102),h(103),h(104),h(105),h(106),h(107),h(108),h(109),h(110),h(111),h(112),h(113),h(114),h(115),h(116),h(117),h(118),h(119),h(120),h(121),h(122),h(123),h(124),h(125),h(126),h(127),h(128),h(129),h(130),h(131),h(132),h(133),h(134),h(135),h(136),h(137),h(138),h(139),h(140),h(141),h(142),h(143),h(144),h(145),h(146),h(147),h(148),h(149),h(150),h(151),h(152),h(153),h(154),h(155),h(156),h(157),h(158),h(159),h(160),h(161),h(162),h(163),h(164),h(165),h(166),h(167),h(168),h(169),h(170),h(171),h(172),h(173),h(174),h(175),h(176),h(177),h(178),h(179),h(180),h(181),h(182),h(183),h(184),h(185),h(186),h(187),h(188),h(189),h(190),h(191),h(192),h(193),h(194),h(195),h(196),h(197),h(198),h(199),h(200),h(201),h(202),h(203),h(204),h(205),h(206),h(207),h(208),h(209),h(210),h(211),h(212),h(213),h(214),h(215),h(216),h(217),h(218),h(219),h(220),h(221),h(222),h(223),h(224),h(225),h(226),h(227),h(228),h(229),h(230),h(231),h(232),h(233),h(234),h(235),h(236),h(237),h(238),h(239),h(240),h(241),h(242),h(243),h(244),h(245),h(246),h(247),h(248),h(249),h(250),h(251),h(252),h(253),h(254),h(255),h(256),h(257),h(258),h(259),h(260),h(261),h(262),h(263),h(264),h(265),h(266),h(267),h(268),h(269),h(270),h(271),h(272),h(273),h(274),h(275),h(276),h(277),h(278),h(279),h(280),h(281),h(282),h(283),h(284),h(285),h(286),h(287),h(288),h(289),h(290),h(291),h(292),h(293),h(294),h(295),h(296),h(297),h(298),h(299),h(300),h(301),h(302),h(303),h(304),h(305),h(306),h(307),h(308),h(309),h(310),h(311),h(312),h(313),h(314),h(315),h(316),h(317),h(318),h(319),h(320),h(321),h(322),h(323),h(324),h(325),h(326),h(327),h(328),h(329),h(330),h(331),h(332),h(333),h(334),h(335),h(336),h(337),h(338),h(339),h(340),h(341),h(342),h(343),h(344),h(345),h(346),h(347),h(348),h(349),h(350),h(351),h(352),h(353),h(354),h(355),h(356),h(357),h(358),h(359),h(360),h(361),h(362),h(363),h(364),h(365),h(366),h(367),h(368),h(369),h(370),h(371),h(372),h(373),h(374),h(375),h(376),h(377),h(378),h(379),h(380),h(381),h(382),h(383),h(384),h(385),h(386),h(387),h(388),h(389),h(390),h(391),h(392),h(393),h(394),h(395),h(396),h(397),h(398),h(399),h(400),h(401),h(402),h(403),h(404),h(405),h(406),h(407),h(408),h(409),h(410),h(411),h(412),h(413),h(414),h(415),h(416),h(417),h(418),h(419),h(420),h(421),h(422),h(423),h(424),h(425),h(426),h(427),h(428),h(429),h(430),h(431),h(432),h(433),h(434),h(435),h(436),h(437),h(438),h(439),h(440),h(441),h(442),h(443),h(444),h(445),h(446),h(447),h(448),h(449),h(450),h(451),h(452),h(453),h(454),h(455),h(456),h(457),h(458),h(459),h(460),h(461),h(462),h(463),h(464),h(465),h(466),h(467),h(468),h(469),h(470),h(471),h(472),h(473),h(474),h(475),h(476),h(477),h(478),h(479),h(480),h(481),h(482),h(483),h(484),h(485),h(486),h(487),h(488),h(489),h(490),h(491),h(492),h(493),h(494),h(495),h(496),h(497),h(498),h(499),h(500),h(501),h(502),h(503),h(504),h(505),h(506),h(507),h(508),h(509),h(510),h(511),h(512),h(513),h(514),h(515),h(516),h(517),h(518),h(519),h(520),h(521),h(522),h(523),h(524),h(525),h(526),h(527),h(528),h(529),h(530),h(531),h(532),h(533),h(534),h(535),h(536),h(537),h(538),h(539),h(540),h(541),h(542),h(543),h(544),h(545),h(546),h(547),h(548),h(549),h(550),h(551),h(552),h(553),h(554),h(555),h(556),h(557),h(558),h(559),h(560),h(561),h(562),h(563),h(564),h(565),h(566),h(567),h(568),h(569),h(570),h(571),h(572),h(573),h(574),h(575),h(576),h(577),h(578),h(579),h(580),h(581),h(582),h(583),h(584),h(585),h(586),h(587),h(588),h(589),h(590),h(591),h(592),h(593),h(594),h(595),h(596),h(597),h(598),h(599),h(600),h(601),h(602),h(603),h(604),h(605),h(606),h(607),h(608),h(609),h(610),h(611),h(612),h(613),h(614),h(615),h(616),h(617),h(618),h(619),h(620),h(621),h(622),h(623),h(624),h(625),h(626),h(627),h(628),h(629),h(630),h(631),h(632),h(633),h(634),h(635),h(636),h(637),h(638),h(639),h(640),h(641),h(642),h(643),h(644),h(645),h(646),h(647),h(648),h(649),h(650),h(651),h(652),h(653),h(654),h(655),h(656),h(657),h(658),h(659),h(660),h(661),h(662),h(663),h(664),h(665),h(666),h(667),h(668),h(669),h(670),h(671),h(672),h(673),h(674),h(675),h(676),h(677),h(678),h(679),h(680),h(681),h(682),h(683),h(684),h(685),h(686),h(687),h(688),h(689),h(690),h(691),h(692),h(693),h(694),h(695),h(696),h(697),h(698),h(699),h(700),h(701),h(702),h(703),h(704),h(705),h(706),h(707),h(708),h(709),h(710),h(711),h(712),h(713),h(714),h(715),h(716),h(717),h(718),h(719),h(720),h(721),h(722),h(723),h(724),h(725),h(726),h(727),h(728),h(729),h(730),h(731),h(732),h(733),h(734),h(735),h(736),h(737),h(738),h(739),h(740),h(741),h(742),h(743),h(744),h(745),h(746),h(747),h(748),h(749),h(750),h(751),h(752),h(753),h(754),h(755),h(756),h(757),h(758),h(759),h(760),h(761),h(762),h(763),h(764),h(765),h(766),h(767),h(768),h(769),h(770),h(771),h(772),h(773),h(774),h(775),h(776),h(777),h(778),h(779),h(780),h(781),h(782),h(783),h(784),h(785),h(786),h(787),h(788),h(789),h(790),h(791),h(792),h(793),h(794),h(795),h(796),h(797),h(798),h(799),h(800),h(801),h(802),h(803),h(804),h(805),h(806),h(807),h(808),h(809),h(810),h(811),h(812),h(813),h(814),h(815),h(816),h(817),h(818),h(819),h(820),h(821),h(822),h(823),h(824),h(825),h(826),h(827),h(828),h(829),h(830),h(831),h(832),h(833),h(834),h(835),h(836),h(837),h(838),h(839),h(840),h(841),h(842),h(843),h(844),h(845),h(846),h(847),h(848),h(849),h(850),h(851),h(852),h(853),h(854),h(855),h(856),h(857),h(858),h(859),h(860),h(861),h(862),h(863),h(864),h(865),h(866),h(867),h(868),h(869),h(870),h(871),h(872),h(873),h(874),h(875),h(876),h(877),h(878),h(879),h(880),h(881),h(882),h(883),h(884),h(885),h(886),h(887),h(888),h(889),h(890),h(891),h(892),h(893),h(894),h(895),h(896),h(897),h(898),h(899),h(900),h(901),h(902),h(903),h(904),h(905),h(906),h(907),h(908),h(909),h(910),h(911),h(912),h(913),h(914),h(915),h(916),h(917),h(918),h(919),h(920),h(921),h(922),h(923),h(924),h(925),h(926),h(927),h(928),h(929),h(930),h(931),h(932),h(933),h(934),h(935),h(936),h(937),h(938),h(939),h(940),h(941),h(942),h(943),h(944),h(945),h(946),h(947),h(948),h(949),h(950),h(951),h(952),h(953),h(954),h(955),h(956),h(957),h(958),h(959),h(960),h(961),h(962),h(963),h(964),h(965),h(966),h(967),h(968),h(969),h(970),h(971),h(972),h(973),h(974),h(975),h(976),h(977),h(978),h(979),h(980),h(981),h(982),h(983),h(984),h(985),h(986),h(987),h(988),h(989),h(990),h(991),h(992),h(993),h(994),h(995),h(996),h(997),h(998),h(999);
	f[0][0] = 0;
	k(0),k(1),k(2),k(3),k(4),k(5),k(6),k(7),k(8),k(9),k(10),k(11),k(12),k(13),k(14),k(15),k(16),k(17),k(18),k(19),k(20),k(21),k(22),k(23),k(24),k(25),k(26),k(27),k(28),k(29),k(30),k(31),k(32),k(33),k(34),k(35),k(36),k(37),k(38),k(39),k(40),k(41),k(42),k(43),k(44),k(45),k(46),k(47),k(48),k(49),k(50),k(51),k(52),k(53),k(54),k(55),k(56),k(57),k(58),k(59),k(60),k(61),k(62),k(63),k(64),k(65),k(66),k(67),k(68),k(69),k(70),k(71),k(72),k(73),k(74),k(75),k(76),k(77),k(78),k(79),k(80),k(81),k(82),k(83),k(84),k(85),k(86),k(87),k(88),k(89),k(90),k(91),k(92),k(93),k(94),k(95),k(96),k(97),k(98),k(99);
	cout << ans << endl;
	return 0;
}