/**
 * code generated by JHelper
 * More info: https://github.com/AlexeyDmitriev/JHelper
 * @author marX
 */

#include <iostream>
#include <fstream>

#include <bits/stdc++.h>

using namespace std;

class CNewYearAndPermutation {
public:
    void solve(std::istream &in, std::ostream &out) {
        int n, m;
        in >> n >> m;

        vector<int> f(n + 1);
        f[0] = 1;

        for (int i = 1; i <= n; ++i) {
            f[i] = 1LL * i * f[i - 1] % m;
        }

        int ans = 0;

        for (int l = 1; l <= n; ++l) {
            ans += 1LL * f[l] * f[n - l + 1] % m * (n - l + 1) % m;
            if (ans >= m) ans -= m;
        }

        out << ans << endl;
    }
};


int main() {
    CNewYearAndPermutation solver;
    std::istream &in(std::cin);
    std::ostream &out(std::cout);
    solver.solve(in, out);
    return 0;
}