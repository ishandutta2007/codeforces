#line 1 "Contests/Codeforces_1517/D/main.cpp"
using namespace std;
#line 2 "library/bits/stdc++.h"

// C
#ifndef _GLIBCXX_NO_ASSERT
#include <cassert>
#endif
#include <cctype>
#include <cerrno>
#include <cfloat>
#include <ciso646>
#include <climits>
#include <clocale>
#include <cmath>
#include <csetjmp>
#include <csignal>
#include <cstdarg>
#include <cstddef>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <ctime>

#if __cplusplus >= 201103L
#include <ccomplex>
#include <cfenv>
#include <cinttypes>
#include <cstdbool>
#include <cstdint>
#include <ctgmath>
#include <cwchar>
#include <cwctype>
#endif

// C++
#include <algorithm>
#include <bitset>
#include <complex>
#include <deque>
#include <exception>
#include <fstream>
#include <functional>
#include <iomanip>
#include <ios>
#include <iosfwd>
#include <iostream>
#include <istream>
#include <iterator>
#include <limits>
#include <list>
#include <locale>
#include <map>
#include <memory>
#include <new>
#include <numeric>
#include <ostream>
#include <queue>
#include <set>
#include <sstream>
#include <stack>
#include <stdexcept>
#include <streambuf>
#include <string>
#include <typeinfo>
#include <utility>
#include <valarray>
#include <vector>

#if __cplusplus >= 201103L
#include <array>
#include <atomic>
#include <chrono>
#include <condition_variable>
#include <forward_list>
#include <future>
#include <initializer_list>
#include <mutex>
#include <random>
#include <ratio>
#include <regex>
#include <scoped_allocator>
#include <system_error>
#include <thread>
#include <tuple>
#include <typeindex>
#include <type_traits>
#include <unordered_map>
#include <unordered_set>
#endif
#line 3 "Contests/Codeforces_1517/D/main.cpp"

// add your library with double quotation #include"" here.
// #include "atcoder/all"
// using namespace atcoder;

// define your macros here.
// #define REP(a,b) for(long long a = 0;a < b;++a)

using namespace std;
typedef string::const_iterator State;
#define eps 1e-8L
#define MAX_MOD 1000000007LL
#define GYAKU 500000004LL
#define MOD 998244353LL
#define pb push_back
#define mp make_pair
typedef long long ll;
typedef long double ld;
#define REP(a,b) for(long long (a) = 0;(a) < (b);++(a))
#define ALL(x) (x).begin(),(x).end()

#define int long long
int costs_R[600][600];
int costs_D[600][600];
int dists[30][600][600];
void solve() {
    // write your solution here.
    int n, m, k;
    cin >> n >> m >> k;
    if (k % 2 == 1) {
        REP(i, n) {
            REP(q, m) {
                if (q != 0) cout << " ";
                cout << -1;
            }
            cout << endl;
        }
        return;
    }
    REP(i, n) {
        REP(q, m - 1) {
            cin >> costs_R[i][q];
        }
    }
    REP(i, n - 1) {
        REP(q, m) {
            cin >> costs_D[i][q];
        }
    }
    REP(i, n) {
        REP(q, m) {
            for (int tea = 0; tea <= k / 2; ++tea) {
                for (int j = max(0LL, i - tea); j < min(n, i + tea + 1); ++j) {
                    for (int p = max(0LL, q - tea); p < min(m, q + tea + 1); ++p) {
                        dists[tea][j][p] = 1e18;
                    }
                }
            }
            dists[0][i][q] = 0;
            REP(tea, k / 2) {
                for (int j = max(0LL, i - tea); j < min(n, i + tea + 1); ++j) {
                    for (int p = max(0LL, q - tea); p < min(m, q + tea + 1); ++p) {
                        if (j != 0) {
                            dists[tea + 1][j - 1][p] = min(dists[tea + 1][j - 1][p], dists[tea][j][p] + costs_D[j - 1][p]);
                        }
                        if (j != n - 1) {
                            dists[tea + 1][j + 1][p] = min(dists[tea + 1][j + 1][p], dists[tea][j][p] + costs_D[j][p]);
                        }
                        if (p != 0) {
                            dists[tea + 1][j][p - 1] = min(dists[tea + 1][j][p - 1], dists[tea][j][p] + costs_R[j][p - 1]);
                        }
                        if (p != m - 1) {
                            dists[tea + 1][j][p + 1] = min(dists[tea + 1][j][p + 1], dists[tea][j][p] + costs_R[j][p]);
                        }
                    }
                }
            }
            if (q != 0) cout << " ";
            int ans = 1e18;
            for (int j = max(0LL, i - k / 2); j < min(n, i + k / 2 + 1); ++j) {
                for (int p = max(0LL, q - k / 2); p < min(m, q + k / 2 + 1); ++p) {
                    ans = min(ans, dists[k / 2][j][p] * 2LL);
                }
            }
            cout << ans;
        }
        cout << "\n";
    }
}
#undef int

// generated by oj-template v4.7.2 (https://github.com/online-judge-tools/template-generator)
int main() {
    // Fasterize input/output script
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    cout << fixed << setprecision(100);
    // scanf/printf user should delete this fasterize input/output script

    int t = 1;
    //cin >> t; // comment out if solving multi testcase
    for (int testCase = 1; testCase <= t; ++testCase) {
        solve();
    }
    return 0;
}