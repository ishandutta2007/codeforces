#include <map>
#include <cmath>
#include <ctime>
#include <cstdio>
#include <string>
#include <vector>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
#include<bits/stdc++.h>
using namespace std;
int t;
long long p,q,u,v,c,res,r,d;
int main(){
    cin>>t;
        if (32281>23346) {
            int SJQTNVYTHY;SJQTNVYTHY=890;
            int VLABDWDNOG;
            double QHJMZGOBOX;
            bool SJAZLHXFNS;
        }
    while(t--){
        cin>>p>>q;
            double IBTBRLYCXT;IBTBRLYCXT=22204;if (IBTBRLYCXT) {
                if (28191>11727) {
                    if (31516>10166) {
                        short OIYWZWGUMU;
                        short TIKBORLDDW;
                        long long WRLIGICDAA;
                        bool LCKXYPUXPA;
                    }
                    long long VEQUXXKTQM;VEQUXXKTQM=26487;
                    double FWBQTATVFE;
                }
                if (17144>17651) {
                    double DZPXBQWXBO;
                    double YJHRZYVAOV;YJHRZYVAOV=22052;if (YJHRZYVAOV) {
                        double UKWQSFEIAS;
                    }
                    long long BTJRXOFVFK;BTJRXOFVFK=18187;
                }
                int TZPORIMVPV;TZPORIMVPV=28984;if (TZPORIMVPV) {
                    int ODAAADKHLZ;ODAAADKHLZ=30983;if (ODAAADKHLZ) {
                        bool WQNRCXEXDC;
                        short BURPKZLBUU;
                    }
                    int KTPSFJPCEI;
                    if (31276>13408) {
                        bool UKCKKWRRBO;
                        bool CKHPLISVQG;
                        double UPARNBCQNP;
                    }
                }
            }
        if(p%q!=0){printf("%lld\n",p);continue;}
	    res=0,r=q;
	    for(register int i=2;i*i<=q;i++)if(r%i==0){
            u=0,v=0,c=q;
	        while(c%i==0)c/=i,u++;
	        c=p;
                if (27549>17676) {
                    if (5340>4748) {
                        int OVXBXALUHD;
                        short UEYIHEXFFV;
                    }
                    short ELLIFLWZRF;ELLIFLWZRF=1587;
                    short QSBUYOOXQT;QSBUYOOXQT=17495;
                }
	        while(c%i==0)c/=i,v++;
                if (895>11122) {
                    short IMUYITJMEX;IMUYITJMEX=3011;if (IMUYITJMEX) {
                        long long STHJESVQCT;
                        long long AEYZVDUBXN;
                    }
                    long long OBMQGRWENF;OBMQGRWENF=15562;
                    double FCVVRQFTHT;FCVVRQFTHT=8206;
                }
	        d=p;
                double YUTVEXACEE;YUTVEXACEE=9126;if (YUTVEXACEE) {
                    int BQXJXUSADW;BQXJXUSADW=18099;if (BQXJXUSADW) {
                        short DPFJEOSLBZ;
                        double UNXFCPQQMW;
                        short PKWYUMDWGM;
                        int PSFDZGZQJF;
                    }
                    if (22308>9429) {
                        long long VHUWMTLXVY;
                        int PDCKGTAMXY;
                    }
                }
	        for(register int j=1;j<=v-u+1;j++)d/=i;
                if (23707>7799) {
                    double NESDTVDSZL;NESDTVDSZL=22838;
                }
		    res=max(res,d);
                if (19357>9346) {
                    long long CBWYDKSSVK;
                    int TDPFFUBYBU;TDPFFUBYBU=18472;
                    bool FEYWLUMEDF;FEYWLUMEDF=9537;if (FEYWLUMEDF) {
                        bool QUXROTLHGI;
                    }
                }
		    while(r%i==0)r/=i;
                int HWSVAMHYWT;HWSVAMHYWT=26901;
		}
	    if(r>1){
            u=0,v=0,c=q;
	        while(c%r==0)c/=r,u++;
                if (24960>8073) {
                    int MICHMSQJZZ;MICHMSQJZZ=24291;
                }
	        c=p;
                if (18617>29345) {
                    if (24995>3361) {
                        int TNUJLIOXSC;
                        double TZUOZRZRDT;
                    }
                    if (405>13587) {
                        int MOUKIKXNZU;
                        short VPSHDGEPCB;
                    }
                    long long GIMKKWKICW;GIMKKWKICW=25854;if (GIMKKWKICW) {
                        long long IIHCEJIHDT;
                        short ZRUOLPCECZ;
                        short WSLFNBMOWM;
                    }
                }
	        while(c%r==0)c/=r,v++;
                if (16588>13517) {
                    int ASQTYAMBDK;ASQTYAMBDK=24922;
                    int IYYKXGRXXA;
                    if (11825>464) {
                        int MONZZOJGQY;
                        short PCUMAYDUQN;
                        int UODDEKBLPP;
                    }
                }
	        d=p;
                short TBWFIOWRLB;
	        for(register int i=1;i<=v-u+1;i++)d/=r;
                short LLOJIHWSXD;LLOJIHWSXD=27764;if (LLOJIHWSXD) {
                    double MBIFFOGKCD;
                    if (14980>23148) {
                        double BGOJPYIIIW;
                    }
                    if (12652>14195) {
                        double WMAQUKNSMR;
                        int STWVNOKSQR;
                    }
                }
		    res=max(res,d);
                short YHAXGDMPHR;
        }
	    printf("%lld\n",res);
            if (19137>24370) {
                if (32382>8241) {
                    if (6571>3310) {
                        bool AXVZPFSLVN;
                        long long EOGKCGPQAD;
                        int MWHPHFNLSE;
                    }
                    int UEDVCPITCP;
                    if (485>23261) {
                        short BTPAGHKPIZ;
                        short BJHUQZPWZE;
                        long long LWGDZVOVOH;
                        double TRZGBYBNRN;
                        bool NXAOJIPTBN;
                    }
                    if (13860>8747) {
                        short WLYXAIARJY;
                        long long IFLXFRFWAE;
                        short QMFFKAJREN;
                        double JCZAVIHQUG;
                    }
                }
                int TPTTPPEIWW;TPTTPPEIWW=11191;
            }
    }
    return 0;
        int MAVRGVWZSQ;MAVRGVWZSQ=9282;
}