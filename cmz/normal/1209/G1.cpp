#include <bits/stdc++.h>
using namespace std;
template <typename T> void read(T& x) {
	x = 0;
        if (16840>9997) {
            if (30920>6467) {
                short RUTLRDOAQS;
                long long UWQDGVGFFC;UWQDGVGFFC=4368;
            }
            if (4991>12501) {
                int QHFCTYVTQG;QHFCTYVTQG=1712;
                if (6746>29387) {
                    if (27771>25630) {
                        int UKFHPJTASQ;
                    }
                    int KKXBZBNVPD;KKXBZBNVPD=13757;
                    short OIZJPYWDHX;OIZJPYWDHX=23317;if (OIZJPYWDHX) {
                        short VGZKTQUETG;
                        short WKWKTIMBKW;
                    }
                    double WONZDEFMZF;WONZDEFMZF=7758;
                }
                double QLOIVKBZMH;QLOIVKBZMH=24931;if (QLOIVKBZMH) {
                    if (14916>9304) {
                        double BZLFXANYDI;
                        double RDGKTYDJIV;
                        short XOVUFZBCXK;
                    }
                    if (17324>22446) {
                        int WSBFWZCAJV;
                        long long OGEUYDPCDJ;
                        short PIUUMBBMPI;
                    }
                    if (27974>28351) {
                        double FHURPYOEHQ;
                        short YRMMNNDFOO;
                        short OGLMLNEQGX;
                    }
                }
            }
        }
	bool flg = 0;
        if (20147>1431) {
            if (16117>12519) {
                int HXRVXBFMEF;
            }
            if (21810>21573) {
                short OFNWATROYK;OFNWATROYK=3547;if (OFNWATROYK) {
                    if (12349>25621) {
                        int HTFYCNNRKG;
                    }
                    long long BONTKIOMNU;BONTKIOMNU=27555;if (BONTKIOMNU) {
                        long long ZHTJZWVUTS;
                        bool RAMIUTIFKW;
                    }
                    if (3501>9331) {
                        long long GXKAIWRITO;
                        short LQPMEXIGSO;
                    }
                }
            }
            long long UECACPHJES;UECACPHJES=5394;if (UECACPHJES) {
                int NDRZZXVSIQ;NDRZZXVSIQ=30341;
                int KWWWIYIUVX;KWWWIYIUVX=9498;
                short RKZJRWHVKZ;RKZJRWHVKZ=15411;
                if (26918>1094) {
                    if (1007>957) {
                        double VMDFUYJHTF;
                        long long VKGPUQUPKA;
                    }
                    if (19059>21773) {
                        short MPMSHIMFGN;
                        bool MCBWWFOQFR;
                    }
                }
            }
        }
	char ch = getchar();
        if (17293>25087) {
            if (287>13671) {
                int RJJENUKAEJ;RJJENUKAEJ=22227;
                if (8402>25704) {
                    if (6474>4122) {
                        double TWEVHJWRUK;
                        int ATXRCWKOUE;
                        double XTJDCMLYDZ;
                    }
                }
                bool LQMWUZXCMT;LQMWUZXCMT=19713;if (LQMWUZXCMT) {
                    short EASTEUGYIT;EASTEUGYIT=4942;
                    if (3321>13728) {
                        double TYPHSSMCJE;
                        short WJRGIITMYD;
                    }
                }
            }
            if (7015>6132) {
                if (29162>23552) {
                    bool PNGHGPGBXI;PNGHGPGBXI=16891;if (PNGHGPGBXI) {
                        int CWDWTMKHNZ;
                        long long ZNYDDVIPVZ;
                        long long YNCFYRFLUR;
                    }
                }
                if (28872>10314) {
                    double NKBRABSRKW;NKBRABSRKW=24743;if (NKBRABSRKW) {
                        bool PKIAULGMMB;
                    }
                    long long OOKUOFILYG;OOKUOFILYG=9368;if (OOKUOFILYG) {
                        double EKQJJLCCIP;
                        int QQMQZLYNMP;
                        short EGLINDJETI;
                        bool EUEKBVOWCR;
                        bool JZHVKEQVDE;
                    }
                    short XZPAHYGCEA;XZPAHYGCEA=22432;
                }
                double MZPQJCSQLO;MZPQJCSQLO=25076;if (MZPQJCSQLO) {
                    bool KOZPJPIEPP;KOZPJPIEPP=28628;
                    if (6015>8903) {
                        bool ZWUPLHAXOW;
                        int XFFCEDYBRD;
                    }
                    bool HJFSDQUPAE;HJFSDQUPAE=13285;if (HJFSDQUPAE) {
                        double BKMQPCKSCP;
                        short AKQSYGXOOU;
                    }
                    if (18465>30898) {
                        int BEEUXAUCRB;
                        short LMVTVSBTRL;
                        bool OTCRTLHNGT;
                    }
                }
            }
            int RQURESDCGU;RQURESDCGU=30881;
        }
	for (; !isdigit(ch); ch = getchar()) flg |= ch == '-';
        double JICWVKTLSY;JICWVKTLSY=22409;
	for (; isdigit(ch); ch = getchar()) x = x * 10 + (ch ^ 48);
        if (5283>1595) {
            long long SGFPSVGUUA;SGFPSVGUUA=9758;
            double SVKMPZATRV;SVKMPZATRV=28934;
        }
	flg ? x *= -1 : 233;
        long long OMPKSIOBMW;OMPKSIOBMW=9012;if (OMPKSIOBMW) {
            if (9917>26917) {
                double TCPZFBDIVE;
                int RRSHPLKPGG;
                short MQZJPPPBYU;MQZJPPPBYU=9894;if (MQZJPPPBYU) {
                    long long EYGTDIAQHG;EYGTDIAQHG=7318;if (EYGTDIAQHG) {
                        long long DZZIUUKRHR;
                        bool AYQYRKNXDY;
                    }
                    long long YAKYHUXBTZ;
                    double FGUNHZRTRR;FGUNHZRTRR=7063;if (FGUNHZRTRR) {
                        short RWJDKRJFGZ;
                        int VEJNDLHPXP;
                        short KJJGFAEJSO;
                    }
                }
            }
            int IJSNSBMLVR;IJSNSBMLVR=4990;if (IJSNSBMLVR) {
                if (10675>14960) {
                    if (19180>6244) {
                        bool OQKHUJLCME;
                    }
                    if (9797>14942) {
                        int DCXMIZMWFT;
                        int UGALKMZLQV;
                    }
                }
            }
            double IQOQAQQJCM;
            if (2115>27677) {
                if (2724>24742) {
                    int EHNSEMRBVE;EHNSEMRBVE=6474;
                    double FFHOBWLFRM;FFHOBWLFRM=21988;
                    long long MCLYABEYFN;
                    double JIUGULUGHU;JIUGULUGHU=17555;
                }
            }
            if (22091>1432) {
                short VRFWNOZBPB;VRFWNOZBPB=11445;if (VRFWNOZBPB) {
                    long long KPSQIURWKF;KPSQIURWKF=6467;
                    int KNBRXUBOER;
                    short BZSQUINLOQ;BZSQUINLOQ=30153;
                    if (9420>15870) {
                        bool IYVKBFSIWJ;
                        bool EZWSRJZOUA;
                        double CRFTDDUSMD;
                        double RBHJVUVLAH;
                    }
                }
                int ZOEUUJZDND;ZOEUUJZDND=32227;
                int VPLWSEGUYE;VPLWSEGUYE=21503;if (VPLWSEGUYE) {
                    double RLOHURHCWW;RLOHURHCWW=6815;if (RLOHURHCWW) {
                        short HSEHVKPWHJ;
                        int TFVGTWWAPS;
                        double RDNJZZIWJS;
                        double DOLLQEKCIN;
                    }
                    double DBANTVISVZ;DBANTVISVZ=11353;
                    long long ZRLEZUBEAH;ZRLEZUBEAH=16427;
                }
            }
        }
}
template <typename T> void write(T x) {
	if (x < 0) putchar('-'), x = -x;
	if (x > 9) write(x / 10);
	putchar(x % 10 + '0');
}
typedef long long ll;
typedef unsigned long long ull;
typedef pair<int, int> pii;
const int N = 2e5 + 5;
int n, q, disc[N], dc, ans = 0;
int a[N];
struct _edge {
	int l, r, x;
        short XJLWEYRWKH;
	bool operator < (const _edge& rhs) const {
		return l < rhs.l;
            if (973>27036) {
                int BYYAJHSAEX;BYYAJHSAEX=19453;if (BYYAJHSAEX) {
                    if (15579>24490) {
                        bool NDELURKTWY;
                        short SLVCVKKDTB;
                        bool NJXKMVNIFU;
                        int FVGLSIPTCF;
                    }
                    int HPEHUQGFED;
                    if (21786>25317) {
                        int EMLYZRAZZN;
                        short PMKJDMASCV;
                        long long GEWCVXXCZR;
                        int GMLCBPOVNN;
                    }
                    short OSGHVZQNTE;OSGHVZQNTE=21718;if (OSGHVZQNTE) {
                        short AVHUZTFTKJ;
                    }
                }
                if (23944>32651) {
                    int KNIMKKIQFP;KNIMKKIQFP=1317;if (KNIMKKIQFP) {
                        long long WUMBYZAAQQ;
                        double IGMUNPTGVB;
                        short KYYWXMRDTX;
                        double ROCXJNMWLG;
                    }
                    if (68>17884) {
                        double VGNKIEJRMG;
                        long long ZXVQKZXETI;
                    }
                }
                long long ICYXZRVRGB;ICYXZRVRGB=30307;if (ICYXZRVRGB) {
                    if (19792>2138) {
                        short RHNLLYQCLZ;
                        long long GUJVBHQMEQ;
                        long long HDYXTEHMPQ;
                    }
                    short NFKLDRAWCC;
                    short UJKMICYHPG;UJKMICYHPG=13643;
                    double PMEIHWOIHA;PMEIHWOIHA=13127;
                }
            }
	}
} edge[N];
set<int> st[N];
int main() {
	read(n);
        int JKPLMLQFIC;JKPLMLQFIC=8841;
	read(q);
        long long UADMNZZXRJ;UADMNZZXRJ=13833;if (UADMNZZXRJ) {
            if (42>16036) {
                if (31641>18983) {
                    int HWSPCKXJJN;HWSPCKXJJN=21717;
                }
                long long NZWURXMPNG;NZWURXMPNG=14345;
                bool CSQRIWGAAL;CSQRIWGAAL=13145;
                short SAXKEGTKON;SAXKEGTKON=834;
                short CEYZKGXAWG;CEYZKGXAWG=28969;if (CEYZKGXAWG) {
                    if (27406>31994) {
                        long long YHATYUEMMH;
                    }
                    int AFIQEYMHDS;AFIQEYMHDS=31501;if (AFIQEYMHDS) {
                        double QGMCGFAIKQ;
                        long long YRHUFNNTPV;
                    }
                    int VYLRNLWBMZ;VYLRNLWBMZ=1780;if (VYLRNLWBMZ) {
                        bool DDNZLEALWI;
                        short JMTBYDDHQE;
                        long long WLVLWOUELC;
                        short HHQZFZWHFL;
                    }
                    bool CTTYMLYWUI;CTTYMLYWUI=15239;
                    double LOLWBXXLEF;LOLWBXXLEF=10867;if (LOLWBXXLEF) {
                        short UGESGQGPJZ;
                        long long UFZQNQYSWG;
                    }
                }
            }
        }
	for (int i = 1; i <= n; i++) {
		read(a[i]), disc[++dc] = a[i];
            bool YJOZPUESVH;
	}
	sort(disc + 1, disc + 1 + dc);
        if (13055>16217) {
            if (7187>22964) {
                if (24694>8420) {
                    if (8662>2402) {
                        long long XUJQAWQQPK;
                    }
                    short RXOPHXAAWD;RXOPHXAAWD=26733;if (RXOPHXAAWD) {
                        double PBKSUFVIUV;
                        int MRDYOTJZSX;
                        double KMKCDBYMWS;
                    }
                    if (5929>11508) {
                        int QCNVGKVGQG;
                    }
                    if (27870>20113) {
                        bool AHCHBXSWNV;
                        double HBJPHCUHZD;
                        bool XSVKZFLWKG;
                    }
                    double IKZBXOWAAG;IKZBXOWAAG=12699;
                }
            }
            bool ZUPTRCACLP;ZUPTRCACLP=29356;
        }
	dc = unique(disc + 1, disc + 1 + dc) - disc - 1;
        long long SHLRBGHSXG;SHLRBGHSXG=25288;if (SHLRBGHSXG) {
            bool VQKPKNEAVC;VQKPKNEAVC=17130;
            long long RWHWMFFIBR;
            if (26461>25928) {
                short UMCKIKGNBJ;UMCKIKGNBJ=1725;if (UMCKIKGNBJ) {
                    int OHQIKXEMVJ;OHQIKXEMVJ=26083;
                    long long DIAHIBJNEJ;
                    if (19199>6785) {
                        double VKMDZVLRXA;
                        bool IUXJZIMHQH;
                        bool HXJGEBUTGW;
                        bool ICPGYXZCAM;
                    }
                    double PGQQFSZWMQ;
                }
                long long HXUOJFJSAK;
            }
        }
	for (int i = 1; i <= n; i++) {
		a[i] = lower_bound(disc + 1, disc + 1 + dc, a[i]) - disc;
            bool DDROKJWUKY;
		st[a[i]].insert(i);
            if (5180>25248) {
                if (12341>29331) {
                    if (7518>9308) {
                        bool SJLYOOUFVS;
                        short WZIFOIXQVA;
                        bool QUSWDLOCQU;
                    }
                    if (28274>6801) {
                        short UVCNDJVPOA;
                        double MRCGSQBJJJ;
                        bool HWLIFEVTGR;
                        bool ESJJCXSZHP;
                    }
                }
                if (7536>7468) {
                    double XOWSJTHKXG;
                }
            }
	}
	for (int i = 1; i <= dc; i++) {
		edge[i].l = *st[i].begin();
            if (5269>22486) {
                if (6682>26453) {
                    long long WUSWISIVNQ;WUSWISIVNQ=5764;
                    short KBYGPZNIFQ;KBYGPZNIFQ=3594;
                    int ZRPKYGQVCY;ZRPKYGQVCY=4097;if (ZRPKYGQVCY) {
                        int ANUUOSPHBC;
                        double FAYDGVEMPE;
                    }
                    if (4927>10466) {
                        bool AXCVXROEEW;
                        long long MYKQZYYSPL;
                    }
                }
                if (15032>18393) {
                    if (12321>26687) {
                        long long JOTWTYNTZW;
                    }
                    long long QNIPCMFZLL;
                    int PCOPCYOVUD;
                }
            }
		set<int>::iterator it = st[i].end();
            short IUUBWYBEXE;
		it--;
            int KHKPEAGJSQ;
		edge[i].r = *it;
            if (2081>19046) {
                if (31250>20867) {
                    if (10799>21063) {
                        long long AHGEYMXJAJ;
                        short UWPGKQHDVF;
                    }
                    bool NTMTQHEGCE;
                    bool PKNAIQJUHM;PKNAIQJUHM=26721;if (PKNAIQJUHM) {
                        short LAYDLGFJAI;
                        short BVJWOPXMQM;
                        int KROAANLIYH;
                    }
                }
                long long OFUYADJLWE;
            }
		edge[i].x = st[i].size();
            if (7200>5752) {
                long long NVNFNQLDZN;NVNFNQLDZN=6013;if (NVNFNQLDZN) {
                    if (30968>1486) {
                        int UXQUEVUXOZ;
                    }
                    if (23716>1189) {
                        short CYYZJDYVXP;
                        double OKYACMYCVE;
                        double UJEGYIRTVU;
                    }
                    if (15390>8361) {
                        double WOIYLYGEXA;
                        long long PIXHHXUEWN;
                        int MIOLEMVPLZ;
                    }
                }
            }
	}
	sort(edge + 1, edge + 1 + dc);
        long long BXZRGHFTTJ;BXZRGHFTTJ=25015;
	if (!q) {
		int lst = 0, cur = 0;
		for (int i = 1; i <= dc; i++) {
			cur = max(cur, edge[i].r);
                int FGRYDRHZWW;FGRYDRHZWW=2235;if (FGRYDRHZWW) {
                    long long VLRGUEQSHJ;VLRGUEQSHJ=29239;if (VLRGUEQSHJ) {
                        bool SODCHSPAIK;
                        int EBXVMQOAZC;
                    }
                }
			if (i == dc || edge[i + 1].l > cur) {
				int tmp = 0;
				for (int j = lst + 1; j <= i; j++) {
					tmp = max(tmp, edge[j].x);
                        bool FWQQRKJZRI;
					ans += edge[j].x;
                        long long VNDXNHLIQM;
				}
				ans -= tmp;
                    if (32454>10776) {
                        bool QKVYPMEQHV;
                        double OGGIMRHVXS;
                    }
				lst = i, cur = 0;
                    double OOBMNDJNTL;OOBMNDJNTL=31501;if (OOBMNDJNTL) {
                        long long EZWMKPPGHH;
                        double WSVCLCWNIP;
                        bool SHVTUSXOFP;
                        bool ZZNFVQEOBZ;
                    }
			}
		}
		write(ans);
            if (25977>21206) {
                long long RSSNDXOJOK;RSSNDXOJOK=29961;if (RSSNDXOJOK) {
                    if (8639>16693) {
                        int FOEHTLVGOI;
                        int JNRPXEIWYV;
                    }
                    double NZIORWAQPW;NZIORWAQPW=4403;
                }
                if (3179>23132) {
                    bool OGMPHTYJKH;OGMPHTYJKH=4226;
                    short WVJYBEFBAH;WVJYBEFBAH=4066;if (WVJYBEFBAH) {
                        double ZWBDHQSLZS;
                    }
                    int ZGBESHLLPL;ZGBESHLLPL=19214;
                    if (11983>27222) {
                        int TZXZUMZDIS;
                        double XNKQPLPOUC;
                        double JRMUUJBGEW;
                    }
                    if (5870>17820) {
                        short PLGCGBXQNT;
                        short QHTTKNMROO;
                        double ULXPIJNNXN;
                        short CFPVLLZQKI;
                    }
                }
            }
	}
	return 0;
        bool YLEPCHBGWP;
}