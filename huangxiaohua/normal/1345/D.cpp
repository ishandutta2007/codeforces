#include<stdio.h>
#define FO(i,a) for(i=1;i<=(a);i++)
int map[1005][1005],i,j,n,m,x[1005],y[1005],blk=0,l,res=0;int f(int i,int j){map[i][j]=0;if(map[i-1][j]==1){f(i-1,j);}if(map[i+1][j]==1){f(i+1,j);}if(map[i][j-1]==1){f(i,j-1);}if(map[i][j+1]==1){f(i,j+1);}}char sb[1005];int main(){scanf("%d%d",&m,&n);FO(i,m){scanf("%s",&sb);FO(j,n){if(sb[j-1]=='#'){map[i][j]=1;x[i]=1;y[j]=1;blk=1;}else{map[i][j]=0;}}}if(blk==0){printf("0");return 0;}FO(i,m){FO(j,n){if(x[i]!=1&y[j]!=1){x[i]=2;y[j]=2;}}}FO(i,m){if(x[i]==0){printf("-1");return 0;}}FO(i,n){if(y[i]==0){printf("-1");return 0;}}FO(i,m){l=0;FO(j,n-1){if(map[i][j]==1&map[i][j+1]==0){l=1;}if(map[i][j+1]==1&map[i][j]==0&l==1){printf("-1");return 0;}}}FO(j,n){l=0;FO(i,m-1){if(map[i][j]==1&map[i+1][j]==0){l=1;}if(map[i+1][j]==1&map[i][j]==0&l==1){printf("-1");return 0;}}}FO(i,m){FO(j,n){if(map[i][j]==1){res++;f(i,j);}}}printf("%d",res);}