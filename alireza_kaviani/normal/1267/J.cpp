/**
 * code generated by JHelper
 * More info: https://github.com/AlexeyDmitriev/JHelper
 * @author alireza_kaviani
 */

//In the name of GOD
#include <bits/stdc++.h>

using namespace std;

typedef long long ll;

const ll maxn = 2e6 + 100;
const ll mod = 1e9 + 7;
const ll inf = 1e18;

#define fast_io ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);
#define file_io freopen("input.txt" , "r+" , stdin) ; freopen("output.txt" , "w+" , stdout);
#define pb push_back
#define pll pair<ll, ll>
#define F first
#define S second

ll t, n, a, cnt[maxn], e[maxn], s, c;

int main() {
    fast_io;

    cin >> t;

    while (t--) {
        cin >> n;
        fill(cnt, cnt + n + 10, 0);
        fill(e, e + n + 10, 0);
        for (ll i = 0; i < n; i++) {
            cin >> a;
            cnt[a]++;
        }
        c = 0;
        for (ll i = 1; i <= n; i++) {
            if (cnt[i] == 0) continue;
            c++;
            for (ll j = 1; j <= cnt[i] + 1; j++) {
                ll A = (cnt[i] + j - 1) / j, B = (j - cnt[i] % j) % j;
                if (A >= B) e[j]++;
            }
        }
        for (ll i = 1; i <= n + 1; i++) {
            if (e[i] >= c) s = i;
        }
        a = 0;
        for (ll i = 1; i <= n; i++) {
            a += (cnt[i] + s - 1) / s;
        }
        cout << a << '\n';
    }

    return 0;
}