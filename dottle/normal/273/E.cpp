#include<bits/stdc++.h>
#define int long long
const int N=2005,mod=1e9+7;
using namespace std;

vector<pair<int,int>> a={{0,1},{1,3},{2,4},{1,5},{2,7},{0,9},{1,13},{2,15},{0,19},{1,27},{2,39},{0,40},{2,57},{1,58},{2,81},{0,85},{2,120},{1,121},{2,174},{0,179},{2,255},{1,260},{2,363},{0,382},{2,537},{1,544},{2,780},{0,805},{2,1146},{1,1169},{2,1632},{0,1718},{2,2415},{1,2447},{2,3507},{0,3622},{2,5154},{1,5260},{2,7341},{0,7730},{2,10866},{1,11011},{2,15780},{0,16298},{2,23190},{1,23669},{2,33033},{0,34784},{2,48894},{1,49549},{2,71007},{0,73340},{2,104352},{1,106510},{2,148647},{0,156527},{2,220020},{1,222970},{2,319530},{0,330029},{2,469581},{1,479294},{2,668910},{0,704371},{2,990087},{1,1003364},{2,1437882},{0,1485130},{2,2113113},{1,2156822},{2,3010092},{0,3169669},{2,4455390},{1,4515137},{2,6470466},{0,6683084},{2,9509007},{1,9705698},{2,13545411},{0,14263510},{2,20049252},{1,20318116},{2,29117094},{0,30073877},{2,42790530},{1,43675640},{2,60954348},{0,64185794},{2,90221631},{1,91431521},{2,131026920},{0,135332446},{2,192557382},{1,196540379},{2,274294563},{0,288836072},{2,405997338},{1,411441844},{2,589621137},{0,608996006},{2,866508216},{1,884431705},{0,1000000001},{0,1000000001}};
int sum(int l,int r){swap(l,r);return (l+r)*(r-l+1)/2%mod;}
int f[2][2][N];
void add(int&x,int y){
	x+=y;if(x>=mod)x-=mod;
}

main(){
	int n,p;cin>>n>>p;
	int s0=0,s1=0,s2=0;
	for(int i=0;a[i].second<=p;i++){
		int d=min(p,a[i+1].second-1);
		int L=p-a[i].second,R=p-d;
		if(a[i].first==0)add(s0,sum(L,R));
		if(a[i].first==1)add(s1,sum(L,R)); 
		if(a[i].first==2)add(s2,sum(L,R));
	}
	f[0][0][0]=1;
	for(int i=0;i<=n;i++)
		for(int x=0;x<2;x++)
			for(int y=0;y<2;y++)
				add(f[x][y][i+1],f[x][y][i]*s0%mod),
				add(f[x^1][y][i+1],f[x][y][i]*s1%mod),
				add(f[x][y^1][i+1],f[x][y][i]*s2%mod);
	cout<<(f[0][1][n]+f[1][0][n]+f[1][1][n])%mod<<endl;
}