r={}
r[(1,1)]='''0
.
'''
r[(1,2)]='''0
..
'''
r[(1,3)]='''0
...
'''
r[(1,4)]='''0
....
'''
r[(1,5)]='''0
.....
'''
r[(1,6)]='''0
......
'''
r[(1,7)]='''0
.......
'''
r[(1,8)]='''0
........
'''
r[(1,9)]='''0
.........
'''
r[(2,2)]='''0
..
..
'''
r[(2,3)]='''0
...
...
'''
r[(2,4)]='''0
....
....
'''
r[(2,5)]='''0
.....
.....
'''
r[(2,6)]='''0
......
......
'''
r[(2,7)]='''0
.......
.......
'''
r[(2,8)]='''0
........
........
'''
r[(2,9)]='''0
.........
.........
'''
r[(3,3)]='''1
.A.
.A.
AAA
'''
r[(3,4)]='''1
.A..
.A..
AAA.
'''
r[(3,5)]='''2
BBBA.
.B.A.
.BAAA
'''
r[(3,6)]='''2
.B.A..
.B.AAA
BBBA..
'''
r[(3,7)]='''3
A.BBBC.
AAAB.C.
A..BCCC
'''
r[(3,8)]='''3
.BCCC.A.
.B.CAAA.
BBBC..A.
'''
r[(3,9)]='''4
BBBDAAA.C
.B.D.ACCC
.BDDDA..C
'''
r[(4,4)]='''2
BBB.
.BA.
.BA.
.AAA
'''
r[(4,5)]='''2
....A
.BAAA
.BBBA
.B...
'''
r[(4,6)]='''3
..A...
.CAAAB
.CABBB
CCC..B
'''
r[(4,7)]='''4
...ACCC
BAAADC.
BBBADC.
B..DDD.
'''
r[(4,8)]='''4
BBB.A...
.BD.AAAC
.BD.ACCC
.DDD...C
'''
r[(4,9)]='''5
...ACCC..
DAAAECBBB
DDDAEC.B.
D..EEE.B.
'''
r[(5,5)]='''4
D.BBB
DDDB.
DA.BC
.ACCC
AAA.C
'''
r[(5,6)]='''4
A..DDD
AAA.D.
ABBBDC
..BCCC
..B..C
'''
r[(5,7)]='''5
.A.EEE.
.AAAEB.
CA.DEB.
CCCDBBB
C.DDD..
'''
r[(5,8)]='''6
A..D.FFF
AAADDDF.
AB.DECF.
.BEEECCC
BBB.EC..
'''
r[(5,9)]='''7
..CAAAB..
CCC.AGBBB
F.CDAGBE.
FFFDGGGE.
F.DDD.EEE
'''
r[(6,6)]='''5
AAA...
.ABCCC
.AB.C.
DBBBCE
DDDEEE
D....E
'''
r[(6,7)]='''6
..A...B
AAA.BBB
E.ADDDB
EEECDF.
ECCCDF.
...CFFF
'''
r[(6,8)]='''7
F.DDD..G
FFFDBGGG
F.ADBBBG
AAAEBC..
..AE.CCC
..EEEC..
'''
r[(6,9)]='''8
F..AAAGGG
FFFCA.BG.
FCCCA.BG.
HHHCDBBBE
.HDDD.EEE
.H..D...E
'''
r[(7,7)]='''8
H..AEEE
HHHA.E.
HDAAAEC
.DDDCCC
BDFFFGC
BBBF.G.
B..FGGG
'''
r[(7,8)]='''9
F.III..G
FFFIAGGG
FH.IAAAG
.HHHADDD
EHBBBCD.
EEEB.CD.
E..BCCC.
'''
r[(7,9)]='''10
...BJJJ.A
.BBBGJAAA
E..BGJC.A
EEEGGGCCC
EHDDDFC.I
.H.D.FIII
HHHDFFF.I
'''
r[(8,8)]='''10
A..BBB..
AAAJBIII
AH.JB.I.
.HJJJGI.
HHHC.GGG
ECCCDG.F
EEECDFFF
E..DDD.F
'''
r[(8,9)]='''12
DDDLLL..H
.DC.LGHHH
.DC.LGGGH
ECCCBGKKK
EEEABBBK.
EI.ABJ.KF
.IAAAJFFF
III.JJJ.F
'''
r[(9,9)]='''13
K.DDDEMMM
KKKD.E.M.
KA.DEEEMF
.AAALGFFF
HALLLGGGF
HHHBLGCCC
HI.B..JC.
.IBBB.JC.
III..JJJ.
'''

n,m=map(int,input().split())
if n<m:
	print(r[(n,m)]),
else:
	s=r[(m,n)].strip().split('\n')
	print(s[0])
	s=s[1:]
	s=zip(*s)
	for t in s:
		print(''.join(t))