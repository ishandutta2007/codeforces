#include<bits/stdc++.h>
using namespace std;
char t1[110][110];
char t2[110][110];
char t3[110][110];
char t4[110][110];
int a[10];
int main()
{
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);
	int n,a1,a2,a3,a4,wyn,i,j;
	cin>>n;
	for(i=0;i<n;i++)
	{
		cin>>t1[i];
	}
	for(i=0;i<n;i++)
	{
		cin>>t2[i];
	}
	for(i=0;i<n;i++)
	{
		cin>>t3[i];
	}
	for(i=0;i<n;i++)
	{
		cin>>t4[i];
	}
	a1=0;
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
		{
			if((i%2)==(j%2))
			{
				if(t1[i][j]=='1')
					a1++;
			}
			else
			{
				if(t1[i][j]=='0')
					a1++;
			}
		}
	}
	a2=0;
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
		{
			if((i%2)==(j%2))
			{
				if(t2[i][j]=='1')
					a2++;
			}
			else
			{
				if(t2[i][j]=='0')
					a2++;
			}
		}
	}
	a3=0;
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
		{
			if((i%2)==(j%2))
			{
				if(t3[i][j]=='1')
					a3++;
			}
			else
			{
				if(t3[i][j]=='0')
					a3++;
			}
		}
	}
	a4=0;
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
		{
			if((i%2)==(j%2))
			{
				if(t4[i][j]=='1')
					a4++;
			}
			else
			{
				if(t4[i][j]=='0')
					a4++;
			}
		}
	}
	a[1]=a1;
	a[2]=a2;
	a[3]=a3;
	a[4]=a4;
	sort(a+1,a+5);
	wyn=a[1]+a[2]+2*n*n-a[3]-a[4];
	cout<<wyn;
	return 0;
}